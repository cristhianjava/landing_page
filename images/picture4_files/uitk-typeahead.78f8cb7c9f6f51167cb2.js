(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[894],{78474:function(){},42382:function(e,t,n){n.d(t,{n:function(){return r},r:function(){return a}});var a,s,i=n(70655),o=n(23105);!function(e){e.HOTEL="HOTEL",e.AIRPORT="AIRPORT",e.MULTICITY="MULTICITY",e.POI="POI",e.METROCODE="METROCODE",e.METROSTATION="METROSTATION",e.TRAINSTATION="TRAINSTATION",e.ADDRESS="ADDRESS",e.NEIGHBORHOOD="NEIGHBORHOOD",e.CURRENT_LOCATION="CURRENT_LOCATION"}(a||(a={})),function(e){e.GOOGLE="google",e.CONSISTENT_DISPLAY="consistent_display"}(s||(s={}));var r=function(){function e(e){this.viewSize=0,this.isGeoLocationAllowed=!0,this.config=e,this.config.getDevice=this.getDevice,e.essLogger&&this.initLoggers(e.essLogger)}return e.prototype.setTypeaheadCategories=function(){var e=this.l10n.formatText;this.ESSCategories={ADDRESS:e("typeahead.ess.address"),AIRPORT:e("typeahead.ess.airport"),ATTRACTION:e("typeahead.ess.attraction"),CITY:e("typeahead.ess.city"),HOTEL:e("typeahead.ess.hotel"),METROCODE:e("typeahead.ess.city"),METROSTATION:e("typeahead.ess.metroStation"),MULTICITY:e("typeahead.ess.city"),MULTIREGION:e("typeahead.ess.city"),NEIGHBORHOOD:e("typeahead.ess.city"),POI:e("typeahead.ess.attraction"),TRAINSTATION:e("typeahead.ess.trainStation")}},e.prototype.getTypeaheadCategories=function(){return this.ESSCategories},e.prototype.addToESSCategories=function(e){this.ESSCategories=(0,i.__assign)((0,i.__assign)({},this.ESSCategories),e)},e.prototype.setL10n=function(e){this.l10n=e},e.prototype.initLoggers=function(e){var t=(0,i.__assign)({},this.config);delete t.essLogger,e.initLogger(t)},e.prototype.constructURL=function(e,t){var n=this,a=this.config.domain?this.config.domain:"";(a=a.endsWith("/")?a:"".concat(a,"/")).endsWith("/")&&(a=a.slice(0,-1));var s="AIRLINE"===n.config.domainId?"".concat(a,"/api/v2/suggest"):"".concat(a,"/api/v4/typeahead"),o=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(encodeURIComponent(n))})).join("&")};if(void 0!==this.config.browser&&null!==this.config.browser||(this.config.browser=this.getBrowser(window.navigator.userAgent)),void 0!==this.config.device&&null!==this.config.device||(this.config.device=this.getDevice(window.navigator.userAgent)),"AIRLINE"===this.config.domainId){var r={domainId:this.config.domainId,lob:this.config.lob,maxResults:this.config.maxResults,siteid:this.config.siteId,locale:this.config.locale};return"".concat(s,"?query=").concat(e,"&").concat(o(r))}var l=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({browser:this.config.browser,client:this.config.client,dest:this.config.dest,device:this.config.device,expuserid:this.config.expuserid?this.config.expuserid:-1,features:this.config.features,format:"json",guid:this.config.guid,listing:!!this.config.listing,lob:this.config.lob,locale:this.config.locale,maxresults:this.config.maxResults,personalize:!!this.config.personalize&&this.config.personalize},this.config.regionId?{rid:this.config.regionId}:{}),{regiontype:this.config.regionType,siteid:this.config.siteId}),this.config.packageType?{pt:this.config.packageType}:{}),this.config.latLong?{latlong:this.config.latLong}:{}),this.config.lastSearchRegionId?{lsrid:this.config.lastSearchRegionId}:{}),this.config.lastSearchTimestamp?{lstime:this.config.lastSearchTimestamp}:{}),this.config.lastSearchLatLong?{lslatlong:this.config.lastSearchLatLong}:{}),this.config.lastSearchElapseTime?{lsetime:this.config.lastSearchElapseTime}:{}),this.config.googleApiKey?{googleApiKey:this.config.googleApiKey}:{}),this.config.alternate&&t?{alternate:!0}:{}),this.config.debounceVariant?{ab:this.config.debounceVariant}:{}),this.config.trending?{trending:this.config.trending}:{}),this.config.alternateSecondVariant?{alternateSecondVariant:this.config.alternateSecondVariant}:{}),this.config.drivable?{drivable:this.config.drivable}:{});return""===e?"".concat(s,"/?").concat(o(l)):"".concat(s,"/").concat(e,"?").concat(o(l))},e.prototype.fetchResponse=function(e,t){var n=this,a=this.config&&this.config.personalize;return""===e&&a||""!==e?(this.config.essLogger&&this.config.essLogger.logTypeaheadRequest(e),fetch(this.constructURL(e,t),{method:"AIRLINE"===this.config.domainId?"POST":"GET"}).then((function(e){return n.config.essLogger&&n.config.essLogger.logResponse(e),e.json()}))):Promise.resolve([])},e.prototype.fetchResults=function(e,t){var n=this;this.config.essLogger&&this.config.essLogger.initLogger(this.config);var a=t?"":e;return this.fetchResponse(a,t).then((function(e){return n.handleEssResponse(e)})).then((function(e){return n.logResponse(e)})).then((function(e){return n.adaptResponseToTypeaheadResults(e,a,n.config.historyDetail)})).then((function(e){return n.categorizeOnFocusResponse(e,t)}))},e.prototype.fetchRecentSearchResults=function(){return this.fetchResults("")},e.prototype.fetchAlternativeResults=function(e){return this.fetchResults(e,this.config.alternate)},e.prototype.fetchResultsCategorized=function(e){var t=this;return this.config.essLogger&&this.config.essLogger.initLogger(this.config),this.fetchResponse(e).then((function(e){return t.handleEssResponse(e)})).then((function(e){return t.logResponse(e)})).then((function(n){return t.adaptResponseToTypeaheadResults(n,e,t.config.historyDetail)})).then((function(e){return t.categorizeResponse(e)}))},e.prototype.fetchRecentSearchResultsCategorized=function(){return this.fetchResultsCategorized("")},e.prototype.categorizeResponse=function(e){var t=this,n=new Map,a=[],s=0;if(e&&e.length>0){e.forEach((function(e){var a,s=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.type)?t.ESSCategories[e.data.type]:"";n[s]||(n[s]=[]),n[s].push(e)}));for(var i=0,o=Object.entries(n);i<o.length;i++){var r=o[i],l=r[0],c=r[1];c.forEach((function(e){e.data.index=s,s++}));var u={heading:l,typeaheadResults:c};a.push(u)}}return a},e.prototype.onFocusCategories=function(){var e=this.l10n.formatText;return(0,i.__assign)({CURRENTLOCATION:"",POPULAR:e("typeahead.ess.popular")||"Explore popular destinations",DRIVABLE:e("typeahead.ess.nearby")||"Nearby locations"},this.config.alternateSecondVariant?{USERHISTORY:e("typeahead.ess.history")||"Recent searches",ALTERNATE:e("typeahead.ess.alternate")||"People also searched"}:{ALTERNATE:e("typeahead.ess.alternate")||"People also searched",USERHISTORY:e("typeahead.ess.history")||"Recent searches"})},e.prototype.categorizeOnFocusResponse=function(e,t){if(e&&e.length>0){var n=e[0];if("ALTERNATE"===n.data.category||"CURRENTLOCATION"===n.data.category||"POPULAR"===n.data.category||"DRIVABLE"===n.data.category&&this.config.drivable||"USERHISTORY"===n.data.category&&this.config.alternate&&t){var a=new Map,s=[],i=this.onFocusCategories(),o=0;e.forEach((function(e){if(e.data.category){var t=e.data.category;a[t]||(a[t]=[]),a[t].push(e)}}));for(var r=0,l=Object.entries(i);r<l.length;r++){var c=l[r],u=c[0],d=c[1],h=a[u];if(h&&h.length>0){h.forEach((function(e){e.data.index=o,e.data.displayType="CATEGORIZED",o+=1}));var p={heading:d,typeaheadResults:h};s.push(p)}}return(t||this.config.showCurrentLocation)&&(this.response.sr=s.flatMap((function(e){return e.typeaheadResults.map((function(e){return e.data}))})),this.config.essLogger&&this.config.essLogger.logTypeaheadResponse(this.response)),s}}return e},e.prototype.logSuggestionShown=function(e){this.config.essLogger&&this.config.essLogger.logSuggestionShown(e)},e.prototype.onItemSelection=function(e){var t,n=this;if(null===(t=this.config.essLogger)||void 0===t||t.logSuggestionSelected(e),(null==e?void 0:e.type)===a.CURRENT_LOCATION){if(this.isGeoLocationAllowed)return this.readCurrentLocation().then((function(t){var n=t.coords,a=n.latitude,s=n.longitude;return(0,i.__assign)((0,i.__assign)({},e),{location:{lat:a.toFixed(5),long:s.toFixed(5)}})})).catch((function(e){throw n.isGeoLocationAllowed=!1,e}));var s=this.l10n.formatText("typeahead.currentLocation.blocked.message");return window.alert(s),Promise.reject(s)}return Promise.resolve(e)},e.prototype.readCurrentLocation=function(){return new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition(e,t)}))},e.prototype.typeaheadDialogOpened=function(e){if(this.config.essLogger){var t=e&&""!==e?e:void 0;this.config.essLogger.logTypeaheadOpen(t)}},e.prototype.logTypeaheadDismiss=function(){this.config.essLogger&&this.config.essLogger.logTypeaheadBlurEvent()},e.prototype.handleEssResponse=function(e){return e.sr=e.sr||e.suggestions||[],this.thirdPartyFallbackAdapter||this.setThirdPartyAdapter(),!this.thirdPartyFallbackAdapter||"GOOGLE_AUTOCOMPLETE"!==e.rc&&"ADDRESS_AUTOCOMPLETE"!==e.rc?Promise.resolve(e):this.thirdPartyFallbackAdapter.fetchResults(e)},e.prototype.setThirdPartyAdapter=function(){var e,t=o.M.filterThirdPartyAdapterFromEssConfig(this.config.features.split("|"));t.length>0&&(e=o.M.getInstance(t[0],this.config.locale,this.config.googleApiKey),this.thirdPartyFallbackAdapter=e)},e.prototype.logResponse=function(e){return this.config.essLogger&&this.config.essLogger.logTypeaheadResponse(e),this.response=e,Promise.resolve(e)},e.prototype.adaptResponseToTypeaheadResults=function(e,t,n){var a,o,r=this,l=function(e){var a,i,o,l,c,u=function(e,a){var s;if("USERHISTORY"===e&&n&&void 0!==r.l10n&&a&&a.searchDetail&&a.searchDetail.startDate&&a.searchDetail.endDate&&a.searchDetail.lob&&!t){var i=a.searchDetail,o=r.l10n,l=o.formatDateString,c=o.formatText,u=new Date(i.startDate),d=6e4*u.getTimezoneOffset(),h=l(new Date(u.getTime()+d),{skeleton:"MMMd"}),p=new Date(i.endDate),g=6e4*p.getTimezoneOffset(),f=l(new Date(p.getTime()+g),{skeleton:"MMMd"}),m=c("datePicker.nightSummary",(Number(i.endDate)-Number(i.startDate))/864e5),y="",v=i.roomCount,T=i.lob;if(1===v&&"Lodging"===T){var R=Number(a.searchDetail.totalTravelerCount);y=" | ".concat(c("typeahead.recentHistory.roomsTravelers",v,R)),s="".concat(h," - ").concat(f," | ").concat(m).concat(y)}else s=v>1?"".concat(h," - ").concat(f," | ").concat(m):"".concat(h," - ").concat(f)}return s}(e.category,e);if(r.config.features.indexOf(s.CONSISTENT_DISPLAY)<0)return{primaryText:(null===(a=e.regionNames)||void 0===a?void 0:a.displayName)||(null===(i=e.names)||void 0===i?void 0:i.displayName),subtext:u};var d=(null===(o=e.regionNames)||void 0===o?void 0:o.primaryDisplayName)||(null===(l=e.names)||void 0===l?void 0:l.displayName);if(u)return{primaryText:"<strong>".concat(d,"</strong>"),subtext:u};var h=(null===(c=e.regionNames)||void 0===c?void 0:c.secondaryDisplayName)||"";return{primaryText:"<strong>".concat(d,"</strong>"),subtext:h}},c=function(e,t,n,a,s){if("AIRLINE"===e)return"";if(n&&!a)return"subdirectory_arrow_right";if("USERHISTORY"===s)return"history";if("FLIGHTS"===r.config.lob)return"lob_flights";switch(e){case"HOTEL":return"lob_hotels";case"AIRPORT":return"lob_flights";case"ADDRESS":return"RENTALLOCATION"===t?"lob_cars":"place";case"METROSTATION":case"TRAINSTATION":return"train";default:return"place"}},u=function(e,n,a){var s,o,u,d,h,p,g,f,m,y=n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation.indexOf("nearby")>-1,v=n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation.indexOf("child")>-1||y,T=l(n),R=T.primaryText,C=T.subtext,I=(0,i.__assign)((0,i.__assign)({data:(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},n.category?{category:n.category}:{}),!t&&n.searchDetail?{searchDetail:n.searchDetail}:{}),n.userHistoryType?{userHistoryType:n.userHistoryType}:{}),(null===(s=n.ids)||void 0===s?void 0:s.id)?{id:n.ids.id}:{}),n.coordinates?{location:{lat:n.coordinates.lat,long:n.coordinates.long}}:{}),n.regionId?{regionId:n.regionId}:n.gaiaId?{regionId:n.gaiaId}:{}),n.cityId?{cityId:n.cityId}:{}),n.regionNames?{regionNames:n.regionNames}:{}),n.type?{type:n.type}:{}),n.subtype?{subtype:n.subtype}:{}),n.hotelId?{selected:n.hotelId}:{}),n.hierarchyInfo?{hierarchyInfo:n.hierarchyInfo}:{}),n.essId?{essId:{sourceId:n.essId.sourceId,sourceName:n.essId.sourceName}}:{}),{dest:r.config.dest}),{index:a+1}),icon:c(n.type||n.domainId,n.subtype,v,y,n.category)},v?{isChild:!0}:{}),{name:R,subtext:C,title:(null===(o=n.regionNames)||void 0===o?void 0:o.lastSearchName)||(null===(u=n.regionNames)||void 0===u?void 0:u.shortName)||(null===(d=n.regionNames)||void 0===d?void 0:d.fullName)||(null===(h=n.ids)||void 0===h?void 0:h.id),value:(null===(p=n.regionNames)||void 0===p?void 0:p.lastSearchName)||(null===(g=n.regionNames)||void 0===g?void 0:g.shortName)||(null===(f=n.regionNames)||void 0===f?void 0:f.fullName)||(null===(m=n.names)||void 0===m?void 0:m.displayName)});return e.push(I),e},d=""===t&&this.shouldShowCurrentLocation()?[this.getCurrentLocationItem()]:[];return(null===(o=null===(a=e.sr)||void 0===a?void 0:a.reduce)||void 0===o?void 0:o.call(a,u,d))||d},e.prototype.shouldShowCurrentLocation=function(){return Boolean(this.config.showCurrentLocation&&"geolocation"in navigator)},e.prototype.getCurrentLocationItem=function(){var e=this.isGeoLocationAllowed?this.l10n.formatText("typeahead.currentLocation.available.item"):this.l10n.formatText("typeahead.currentLocation.blocked.item");return{data:{category:"CURRENTLOCATION",hierarchyInfo:{relation:["current"]},index:-1,enabled:this.isGeoLocationAllowed,regionNames:{fullName:"CurrentLocation"},type:a.CURRENT_LOCATION},icon:"my_location",name:e,title:e,value:e}},e.prototype.getBrowser=function(e){var t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE":"Chrome"===n[1]&&null!==(t=e.match(/\b(OPR|Edge?)\/(\d+)/))?t.slice(1,-1).join(" ").replace("OPR","Opera").replace("Edg ","Edge "):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n[0])},e.prototype.getDevice=function(e){return/iPad|Transformer|ME173X|KOOF|Nook|IMM76D|Nexus 10|Nexus 7|Tablet/i.test(e)||/HP Slate|PG09410|PG41200|Mediapad|Kindle|Tab|Xoom|TegraNote|SCH-I800/i.test(e)?"Tablet":/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?"Mobile":"Desktop"},e}()},29567:function(e,t,n){n.d(t,{$:function(){return a},c:function(){return r}});var a,s=n(70655),i=n(37093),o=n(72195);!function(e){e.INVALID_REQUEST="INVALID_REQUEST",e.OK="OK",e.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",e.REQUEST_DENIED="REQUEST_DENIED",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.ZERO_RESULTS="ZERO_RESULTS"}(a||(a={}));var r=function(e){function t(t,n){var a=e.call(this,t)||this;return a.url="//maps.googleapis.com/maps/api/js?client=gme-expedia&channel=ess&libraries=places&language=".concat(t,"&key=").concat(n),a.category="GOOGLEMAPS",a.sourceName="GPA",a.type="ADDRESS",i.ScriptLoader.getScript(a.url).then((function(){a.google=window.google,a.initGooglePlacesService()})).catch((function(e){console.error(e)})),a}return(0,s.__extends)(t,e),t.getInstance=function(e,n){var a=e||"en_US",s=n||"AIzaSyABOFQNLMiTVN0AG3eWNmspVfVC8gNda68";return a in this.instances||(this.instances[a]=new t(a,s)),this.instances[a]},t.prototype.initGooglePlacesService=function(){if(this.google&&this.google.maps&&this.google.maps.places){var e=this.google.maps.places.AutocompleteService;this.googleAutoCompleteService=new e}},t.prototype.fetchResults=function(e){var t=this,n={input:e.q,type:"ADDRESS_AUTOCOMPLETE"===e.rc?["geocode"]:void 0};return new Promise((function(s){t.googleAutoCompleteService?t.googleAutoCompleteService.getPlacePredictions(n,(function(n,i){if(i===a.OK){var o=(r=t.handleResponse(n),{q:e.q,rc:e.rc,rid:e.rid,sr:r});s(o)}else s(e);var r})):s(e)}))},t.prototype.handleResponse=function(e){var t=this,n=[];return e.forEach((function(e,a){n.push(t.toEssResult(e.description,e.place_id,a))})),n},t.instances={},t}(o.l)},2974:function(e,t,n){n.d(t,{u:function(){return r}});var a=n(70655),s=n(72195),i=n(61049),o="pk.eyJ1IjoiZXhwZWRpYS1nZW8iLCJhIjoiY2w1anp3aXpuMDU3YTNibHY0Y21jazNteSJ9.fdrMME0LN_m9OEW_5v3sqA",r=function(e){function t(t,n){var a,s=e.call(this,t)||this;return a=t.split("_"),s.language=a[0],s.locale=a[1],s.category="MAPBOX",s.sourceName="mapbox",s.type="address",s.apiKey=n||o,s}return(0,a.__extends)(t,e),t.getInstance=function(e,n){var a=e||"en_US",s=n||o;return a in this.instances||(this.instances[a]=new t(a,s)),this.instances[a]},t.prototype.getGeocodingUrl=function(e,t){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,".json?");return(0,i.T)(n,t)},t.prototype.fetchFromMapbox=function(e){var t=this.getGeocodingUrl(e,{autocomplete:!0,language:this.language,types:this.type,fuzzyMatch:!0,access_token:this.apiKey});return fetch(t).then((function(e){return e.json()}))},t.prototype.fetchResults=function(e){var t=this;return new Promise((function(n){t.fetchFromMapbox(e.q).then((function(e){return void 0===(null==e?void 0:e.features)?[]:e.features})).then((function(a){return 0===a.length?n(e):n((s=t.handleResponse(a),{q:e.q,rc:e.rc,rid:e.rid,sr:s}));var s})).catch((function(){n(e)}))}))},t.prototype.handleResponse=function(e){var t=this,n=[];return e.forEach((function(e,a){var s=e.id.split(".")[1];n.push(t.toEssResult(e.place_name,s,a))})),n},t.instances={},t}(s.l)},23105:function(e,t,n){n.d(t,{M:function(){return o}});var a=n(29567),s=n(2974),i={google:a.c,mapbox:s.u},o=function(){function e(){}return e.getInstance=function(e,t,n){return i[e].getInstance(t,n)},e.filterThirdPartyAdapterFromEssConfig=function(e){return e.filter((function(e){return e in i}))},e}()},72195:function(e,t,n){n.d(t,{l:function(){return a}});var a=function(){function e(e){this.locale=e}return e.prototype.toEssResult=function(e,t,n){var a=e,s="",i="",o=(a||"").split(",");return o.length<2?s=o[0].trim():(s=o[0],i=o.slice(1).map((function(e){return e.trim()})).join(", ").trim()),{category:this.category,coordinates:void 0,index:n,regionNames:{displayName:a,fullName:e,lastSearchName:e,primaryDisplayName:s,secondaryDisplayName:i},sourceId:t,sourceName:this.sourceName,type:this.type}},e}()},28868:function(e,t,n){n.d(t,{M3:function(){return i},OS:function(){return o},od:function(){return s}});var a=n(70655),s=function(e){switch(e.type){case"categorized":return e.items.reduce((function(e,t){return e+t.typeaheadResults.length}),0);case"uncategorized":return e.items.length}},i=function(e,t){switch(e.type){case"categorized":return(0,a.__assign)((0,a.__assign)({},e),{items:e.items.map((function(e){return(0,a.__assign)((0,a.__assign)({},e),{typeaheadResults:e.typeaheadResults.filter((function(e){return!t.includes(e.value)}))})}))});case"uncategorized":return(0,a.__assign)((0,a.__assign)({},e),{items:e.items.filter((function(e){return!t.includes(e.value)}))})}},o=function(e,t){switch(e.type){case"categorized":return e.items.reduce((function(e,t){return e.push.apply(e,t.typeaheadResults),e}),[])[t];case"uncategorized":return e.items[t]}}},61049:function(e,t,n){n.d(t,{$:function(){return a},T:function(){return s}});var a=function(e,t,n){if(""===n||null===n)return e;var a=/\?/.test(e)?"&":"?",s=encodeURIComponent(t);return void 0!==n&&""!==n&&(s=s.concat("=",encodeURIComponent(n))),e+a+s},s=function(e,t){if(null==t)return e;var n=e;return Object.keys(t).forEach((function(e){var s=t[e];void 0!==s&&(n=a(n,e,s))})),n}},15865:function(e,t,n){n.r(t),n.d(t,{ESSAdapter:function(){return a.n},GoogleAdapter:function(){return o.c},MapboxAdapter:function(){return r.u},PlacesServiceStatus:function(){return o.$},ThirdPartyAdapter:function(){return i.l},ThirdPartyAdapterFactory:function(){return s.M},TypeaheadLocationType:function(){return a.r},TypeaheadMenu:function(){return g.k},TypeaheadRenderType:function(){return u.A},UitkTypeahead:function(){return u.c},UitkTypeaheadAttribution:function(){return d.W},UitkTypeaheadDialog:function(){return h.w},UitkTypeaheadInput:function(){return p.p},UitkTypeaheadMenu:function(){return g.j},UitkTypeaheadResultItem:function(){return m.v},UitkTypeaheadResults:function(){return f.Z},appendQueryObject:function(){return c.T},appendQueryParam:function(){return c.$},filterTypeaheadResults:function(){return l.M3},getSizeOfTypeaheadResults:function(){return l.od},selectTypeaheadResultIndex:function(){return l.OS}});var a=n(42382),s=n(23105),i=n(72195),o=n(29567),r=n(2974),l=n(28868),c=n(61049),u=n(87220),d=n(45745),h=n(6239),p=n(36463),g=n(67252),f=n(11119),m=n(57828)},45745:function(e,t,n){n.d(t,{W:function(){return l}});var a=n(67294),s=n(37093),i=n(78474),o=n.n(i),r=s.classNames.bind(o()),l=function(e){var t,n=e.results,s=function(e){var t;return e?null===(t=e.data)||void 0===t?void 0:t.category:""},i=function(e){return e.find((function(e){return e.data&&e.data.category}))},o=function(e){return e.some((function(e){var n="category";return e.data&&e.data[n]&&e.data[n]===t}))};if(!function(e){switch(e.type){case"categorized":return t=function(e){var t=e.find((function(e){return i(e.typeaheadResults)}));return void 0!==t&&t.typeaheadResults?s(t.typeaheadResults[0]):""}(e.items),function(e){return e.some((function(e){return o(e.typeaheadResults)}))}(e.items);case"uncategorized":return t=function(e){return s(i(e))}(e.items),function(e){return o(e)}(e.items)}}(n))return null;switch(t){case"GOOGLEMAPS":return a.createElement("div",{className:r("uitk-typeahead-google-logo")},a.createElement("img",{src:"data:image/png;base64,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",alt:"Powered by Google Logo"}));case"MAPBOX":return a.createElement("div",{className:r("uitk-typeahead-google-logo")},"powered by"," ",a.createElement("svg",{viewBox:"0 0 81 20",width:"81px",height:"20px"},a.createElement("path",{d:"M9.07917722,0.0888888889 C4.06575949,0.0888888889 0,4.52222222 0,9.98888889 C0,15.4555556 4.06575949,19.8888889 9.07917722,19.8888889 C14.0925949,19.8888889 18.1583544,15.4555556 18.1583544,9.98888889 C18.1583544,4.52222222 14.0925949,0.0888888889 9.07917722,0.0888888889 Z M55.7284177,2.27777778 C55.6061392,2.27777778 55.5042405,2.38888889 55.5042405,2.52222222 L55.5042405,13.9888889 C55.5042405,14.1222222 55.6061392,14.2333333 55.7284177,14.2333333 L57.0938608,14.2333333 C57.2161392,14.2333333 57.318038,14.1222222 57.318038,13.9888889 L57.318038,13.2 C58.0211392,14 58.9891772,14.4555556 59.9979747,14.4555556 C62.1276582,14.4555556 63.8599367,12.4555556 63.8599367,9.97777778 C63.8599367,7.5 62.1276582,5.51111111 59.9979747,5.51111111 C58.9789873,5.51111111 58.0109494,5.96666667 57.318038,6.76666667 L57.318038,2.52222222 C57.318038,2.38888889 57.2161392,2.27777778 57.0938608,2.27777778 L55.7284177,2.27777778 Z M10.0166456,3.93333333 C11.1782911,3.96666667 12.3501266,4.46666667 13.2468354,5.45555556 C15.050443,7.42222222 15.1115823,10.5333333 13.3894937,12.4222222 C10.2815823,15.8111111 4.74848101,14.7222222 4.74848101,14.7222222 C4.74848101,14.7222222 3.74987342,8.68888889 6.85778481,5.3 C7.72392405,4.36666667 8.86518987,3.91111111 10.0166456,3.93333333 Z M26.3510127,5.51111111 C25.515443,5.51111111 24.7308228,5.95555556 24.231519,6.68888889 L24.231519,5.97777778 C24.231519,5.84444444 24.1296203,5.73333333 24.0073418,5.73333333 L22.6418987,5.73333333 C22.5196203,5.73333333 22.4177215,5.84444444 22.4177215,5.97777778 L22.4177215,14 C22.4177215,14.1333333 22.5196203,14.2444444 22.6418987,14.2444444 L24.0073418,14.2444444 C24.1296203,14.2444444 24.231519,14.1333333 24.231519,14 L24.231519,9.2 C24.2824684,8.12222222 24.9651899,7.27777778 25.8007595,7.27777778 C26.6668987,7.27777778 27.3903797,8.06666667 27.3903797,9.11111111 L27.3903797,14 C27.3903797,14.1333333 27.4922785,14.2444444 27.614557,14.2444444 L28.9901899,14.2444444 C29.1124684,14.2444444 29.2143671,14.1333333 29.2143671,14 L29.2041772,9.01111111 C29.3264557,8.03333333 29.9786076,7.27777778 30.7632278,7.27777778 C31.6293671,7.27777778 32.3528481,8.06666667 32.3528481,9.11111111 L32.3528481,14 C32.3528481,14.1333333 32.4547468,14.2444444 32.5770253,14.2444444 L33.9526582,14.2444444 C34.0749367,14.2444444 34.1768354,14.1333333 34.1768354,14 L34.1666456,8.48888889 C34.1972152,6.84444444 32.9132911,5.51111111 31.3236709,5.51111111 C30.3046835,5.52222222 29.3672152,6.16666667 28.9290506,7.17777778 C28.419557,6.14444444 27.4311392,5.5 26.3510127,5.51111111 L26.3510127,5.51111111 Z M39.3838608,5.51111111 C37.2541772,5.51111111 35.5218987,7.51111111 35.5218987,9.98888889 C35.5218987,12.4666667 37.2541772,14.4666667 39.3838608,14.4666667 C40.4028481,14.4666667 41.3708861,14.0111111 42.0637975,13.2111111 L42.0637975,14 C42.0637975,14.1333333 42.1656962,14.2444444 42.2879747,14.2444444 L43.6534177,14.2444444 C43.7756962,14.2444444 43.8775949,14.1333333 43.8775949,14 L43.8775949,5.97777778 C43.8877848,5.84444444 43.7858861,5.73333333 43.6534177,5.73333333 L42.2879747,5.73333333 C42.1656962,5.73333333 42.0637975,5.84444444 42.0637975,5.97777778 L42.0637975,6.76666667 C41.3606962,5.96666667 40.3926582,5.51111111 39.3838608,5.51111111 Z M50.1953165,5.51111111 C49.1763291,5.51111111 48.2082911,5.96666667 47.5153797,6.76666667 L47.5153797,5.97777778 C47.5153797,5.84444444 47.413481,5.73333333 47.2912025,5.73333333 L45.9257595,5.73333333 C45.803481,5.73333333 45.7015823,5.84444444 45.7015823,5.97777778 L45.7015823,17.4444444 C45.7015823,17.5777778 45.803481,17.6888889 45.9257595,17.6888889 L47.2912025,17.6888889 C47.413481,17.6888889 47.5153797,17.5777778 47.5153797,17.4444444 L47.5153797,13.2 C48.218481,14 49.186519,14.4555556 50.1953165,14.4555556 C52.325,14.4555556 54.0572785,12.4555556 54.0572785,9.97777778 C54.0572785,7.5 52.325,5.51111111 50.1953165,5.51111111 Z M69.0975316,5.51111111 C66.7844304,5.51111111 64.9196835,7.51111111 64.9196835,9.98888889 C64.9196835,12.4666667 66.7946203,14.4666667 69.0975316,14.4666667 C71.400443,14.4666667 73.2753797,12.4666667 73.2753797,9.98888889 C73.2753797,7.51111111 71.4106329,5.51111111 69.0975316,5.51111111 Z M73.7237342,5.73333333 C73.6116456,5.73333333 73.5199367,5.83333333 73.5199367,5.95555556 C73.5199367,6 73.5301266,6.04444444 73.5505063,6.07777778 L75.8941772,9.96666667 L73.5199367,13.9 C73.4587975,14 73.4791772,14.1444444 73.5810759,14.2111111 C73.6116456,14.2333333 73.6524051,14.2444444 73.6931646,14.2444444 L75.2725949,14.2444444 C75.3948734,14.2444444 75.506962,14.1777778 75.5681013,14.0666667 L76.9743038,11.5 L78.3805063,14.0666667 C78.4416456,14.1777778 78.5537342,14.2444444 78.6760127,14.2444444 L80.255443,14.2444444 C80.3675316,14.2444444 80.4592405,14.1444444 80.4592405,14.0222222 C80.4592405,13.9777778 80.4490506,13.9444444 80.4286709,13.9 L78.0544304,9.96666667 L80.3981013,6.07777778 C80.4592405,5.97777778 80.4388608,5.83333333 80.336962,5.76666667 C80.3063924,5.74444444 80.2656329,5.73333333 80.2248734,5.73333333 L78.645443,5.73333333 C78.5231646,5.73333333 78.4110759,5.8 78.3499367,5.91111111 L76.9743038,8.43333333 L75.5986709,5.91111111 C75.5375316,5.8 75.425443,5.73333333 75.3031646,5.73333333 L73.7237342,5.73333333 Z M10.1185443,5.88888889 L9.23202532,7.88888889 L7.40803797,8.85555556 L9.23202532,9.82222222 L10.1185443,11.8222222 L11.0152532,9.82222222 L12.8392405,8.85555556 L11.0152532,7.88888889 L10.1185443,5.88888889 Z M39.6997468,7.3 C40.9938608,7.3 42.0434177,8.48888889 42.0637975,9.95555556 L42.0637975,10.0222222 C42.0536076,11.4888889 40.9938608,12.6777778 39.6997468,12.6777778 C38.395443,12.6777778 37.3356962,11.4777778 37.3356962,9.98888889 C37.3356962,8.5 38.395443,7.3 39.6997468,7.3 L39.6997468,7.3 Z M49.8692405,7.3 C51.1735443,7.3 52.2332911,8.5 52.2332911,9.98888889 C52.2332911,11.4777778 51.1735443,12.6777778 49.8692405,12.6777778 C48.5751266,12.6777778 47.5255696,11.4888889 47.5051899,10.0222222 L47.5051899,9.95555556 C47.5255696,8.48888889 48.5751266,7.3 49.8692405,7.3 L49.8692405,7.3 Z M59.6820886,7.3 C60.9863924,7.3 62.0461392,8.5 62.0461392,9.98888889 C62.0461392,11.4777778 60.9863924,12.6777778 59.6820886,12.6777778 C58.3879747,12.6777778 57.3384177,11.4888889 57.318038,10.0222222 L57.318038,9.95555556 C57.3384177,8.48888889 58.3879747,7.3 59.6820886,7.3 L59.6820886,7.3 Z M69.0771519,7.3 C70.3814557,7.3 71.4412025,8.5 71.4412025,9.98888889 C71.4412025,11.4777778 70.3814557,12.6777778 69.0771519,12.6777778 C67.7728481,12.6777778 66.7131013,11.4777778 66.7131013,9.98888889 C66.7131013,8.5 67.7728481,7.3 69.0771519,7.3 Z"})));default:return null}}},6239:function(e,t,n){n.d(t,{w:function(){return A}});var a,s=n(70655),i=n(67294),o=n(29892),r=n(3774),l=n(37093),c=n(80463),u=n(23984),d=n(91233),h=n(24499),p=n(97534),g=n(33608),f=n(49349),m=n(79221),y=n(28868),v=n(11119),T=n(78474),R=n.n(T),C=n(36463),I=l.classNames.bind(R());!function(e){e.UP="UP",e.DOWN="DOWN"}(a||(a={}));var S=function(e){function t(t){var n=e.call(this,t)||this;return n.dialogRef=i.createRef(),n.toolbarInputRef=i.createRef(),n.iphoneSafariUARegex=/iphone.*safari|safari.*iphone/gi,n.uid=Math.random().toString(36).substring(7),n.typeaheadDialogLiveAnnounceId="uitk-typeahead-dialog-live-announce-".concat(n.uid),n.typingTimeout=0,n.newAttr=-1,n._isMounted=!1,n.state={activeSuggestion:-1,categorizedResults:[],data:{},results:[],searchTerm:t.term,showResults:!0,startSearchTerm:t.startSearchTerm},n.announceResults=n.announceResults.bind(n),n.focusInput=n.focusInput.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handleAnnounceResults=n.handleAnnounceResults.bind(n),n.handleResultItemSelect=n.handleResultItemSelect.bind(n),n.onDismiss=n.onDismiss.bind(n),n.openDialog=n.openDialog.bind(n),n.updateResults=n.updateResults.bind(n),n.updateResultsDebounced=t.debounceRate&&t.debounceRate>0?(0,r.debounce)(t.debounceRate,n.updateResults):n.updateResults,n.updateInput=n.updateInput.bind(n),n.selectInput=n.selectInput.bind(n),n.resetActiveSuggestion=n.resetActiveSuggestion.bind(n),n.removeDialogLiveAnnounce=n.removeDialogLiveAnnounce.bind(n),n.contentRef=i.createRef(),n}return(0,s.__extends)(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentDidUpdate=function(e,n){var a=this.props.term;a!==e.term&&this.setState({searchTerm:a});var s=this.state,i=s.searchTerm,o=s.showResults;n.searchTerm!==i&&o&&(this.setState({results:t.placeholder}),this.updateResultsDebounced(i))},t.prototype.componentWillUnmount=function(){var e=this.props.adapter;e&&"function"==typeof e.logTypeaheadDismiss&&e.logTypeaheadDismiss(),this._isMounted=!1},t.prototype.handleChange=function(e){var t=this.props.onInputChange;this.setState({searchTerm:e.target.value,showResults:!0},this.focusInput),""===e.target.value&&this.resetActiveSuggestion(),t&&t(e)},t.prototype.handleResultItemSelect=function(e,t,n){var a,s=this,i=this.props,o=i.isMulti,r=i.adapter,c=i.l10n,u=i.label,d=i.onResultItemSelect,h=this.state.searchTerm;return null===(a=r.onItemSelection)||void 0===a?void 0:a.call(r,t).then((function(t){o?s.setState({activeSuggestion:-1}):s.setState({activeSuggestion:-1,searchTerm:e,showResults:!1}),d(e,t);var a=n?(0,y.od)(n)-1:0;o&&(0,l.liveAnnounce)("".concat(c.formatText("typeahead.announceResults.itemSelected",e),"\n             ").concat(c.formatText("typeahead.announceResults.showingResults",u,a,h)),void 0,void 0,s.contentRef,s.typeaheadDialogLiveAnnounceId),o||(setTimeout((function(){(0,l.liveAnnounce)("".concat(c.formatText("typeahead.announceResults.itemSelected",e),"\n             ").concat(c.formatText("typeahead.announceResults.menuClosed")))}),100),s.onDismiss())})).catch((function(){s.updateResults(e,!0,""!==e)}))},t.prototype.handleAnnounceResults=function(e){var t=this;this.typingTimeout&&clearTimeout(this.typingTimeout),e.length>0&&(this.typingTimeout=setTimeout((function(){t.announceResults(e)}),1e3))},t.prototype.handleKeyPress=function(e){var t=this.props.value,n=(0,y.M3)(this.getResultsToShow(),Array.isArray(t)?t:[]),a=this.state,s=a.activeSuggestion,i=a.searchTerm;if("Enter"!==e.key&&38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),"Enter"===e.key){var o=(0,y.OS)(n,s);o?this.handleResultItemSelect(o.value,o.data,n):this.handleResultItemSelect(i,void 0,n)}},t.prototype.handleActiveSuggestion=function(e){var t=this.state,n=t.activeSuggestion,s=t.results,i=t.searchTerm,o=this.props.allowExactMatch&&i?1:0,r=s.length+o,l=0;e===a.UP?l=-1===n?r:r-1:e===a.DOWN&&(l=r+1);var c=(n+l)%r,u=(this.newAttr+l)%r;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1},t.prototype.handleUpArrowKey=function(e){38===e.keyCode&&this.handleActiveSuggestion(a.UP)},t.prototype.handleDownArrowKey=function(e){40===e.keyCode&&this.handleActiveSuggestion(a.DOWN)},t.prototype.handleTabKey=function(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){var t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}},t.prototype.handleEscKey=function(e){27===e.keyCode&&this.onDismiss()},t.prototype.handleKeyDown=function(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)},t.prototype.handleKeyUp=function(e){this.handleTabKey(e)},t.prototype.onDismiss=function(){var e=this.props,t=e.onDismiss,n=e.isMulti,a=e.l10n;this.contentRef.current.scrollTop=0,t&&t(),this.resetActiveSuggestion(),this.setState({startSearchTerm:""}),n&&setTimeout((function(){(0,l.liveAnnounce)(a.formatText("typeahead.announceResults.menuClosed"))}),100),this.removeDialogLiveAnnounce()},t.prototype.getResultsToShow=function(){var e=this.props.categorize,t=this.state,n=t.categorizedResults,a=t.results;return e||n&&n.length?{items:n,type:"categorized"}:{items:a,type:"uncategorized"}},t.prototype.removeDialogLiveAnnounce=function(){var e,t=document.getElementById(this.typeaheadDialogLiveAnnounceId);t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t))},t.prototype.resetActiveSuggestion=function(){this.setState({activeSuggestion:-1})},t.prototype.updateInput=function(e,t){var n=this;this.setState({searchTerm:e},(function(){n.updateResults(e,!1,!!t),setTimeout((function(){n.selectInput()}))}))},t.prototype.scrollTop=function(){navigator.userAgent.match(this.iphoneSafariUARegex)&&document.getElementsByTagName("html")[0].scrollTop>0&&document.getElementsByTagName("html")[0].scrollTo({top:0,behavior:"smooth"})},t.prototype.openDialog=function(){var e=this.state.searchTerm,t=this.props,n=t.adapter,a=t.startSearchTerm,s=t.defaultTerm;n.typeaheadDialogOpened(e),this.updateInput(e||s||a||"",""!==e),this.focusInput(),this.scrollTop()},t.prototype.selectInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.select&&e.current.select()},t.prototype.focusInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.focus&&e.current.focus()},t.prototype.announceResults=function(e){var t=this.state.searchTerm,n=this.props,a=n.l10n,s=n.label,i=n.defaultTerm,o=t&&t.split("");if(o){var r="'".concat(o.join("' , '")," '");e&&(0,l.liveAnnounce)(a.formatText("typeahead.announceResults.resultsAvailable",r,e.length),void 0,void 0,this.contentRef,this.typeaheadDialogLiveAnnounceId)}else i&&e&&(0,l.liveAnnounce)(a.formatText("typeahead.announceResults.showingResultsDefault",s,e.length))},t.prototype.isCategorizedResult=function(e){return"heading"in e},t.prototype.updateResults=function(e,t,n){return(0,s.__awaiter)(this,void 0,void 0,(function(){var a,i,o,r,l,c,u,d,h,p,g,f,m,y=this;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return a=this.props,i=a.adapter,o=a.categorize,r=a.defaultTerm,l=""===e?null!=r?r:"":e,this.lastSearchTerm=l,""===l||!0!==t?[3,5]:o?[4,Promise.all([i.fetchResultsCategorized(l),i.fetchRecentSearchResultsCategorized()])]:[3,2];case 1:return g=s.sent(),[3,4];case 2:return[4,Promise.all([i.fetchResults(l),i.fetchRecentSearchResults()])];case 3:g=s.sent(),s.label=4;case 4:return h=(d=g)[0],(p=d[1])&&p.length>0?o||this.isCategorizedResult(p[0])?u=p:c=p:o?u=h:c=h,[3,11];case 5:return o?[4,i.fetchResultsCategorized(l)]:[3,7];case 6:return u=s.sent(),[3,11];case 7:return""!==l&&n?[4,i.fetchAlternativeResults(l)]:[3,9];case 8:return(f=s.sent())&&f.length&&this.isCategorizedResult(f[0])?u=f:c=f,[3,11];case 9:return[4,i.fetchResults(l)];case 10:(f=s.sent())&&f.length&&this.isCategorizedResult(f[0])?u=f:c=f,s.label=11;case 11:return this.lastSearchTerm!==l||(c&&c.length&&this._isMounted?(i.logSuggestionShown(t||n?"":l,c),this.setState({results:c,categorizedResults:[]},(function(){y.handleAnnounceResults(c)}))):u&&u.length?(i.logSuggestionShown(t||n?"":l,u),m=u.reduce((function(e,t){return e.push.apply(e,t.typeaheadResults),e}),[]),this.setState({categorizedResults:u,results:m},(function(){y.handleAnnounceResults(u)}))):this._isMounted&&this.setState({results:[],categorizedResults:[]})),[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.allowExactMatch,n=e.dialog,a=e.id,s=e.listTitle,o=e.stid,r=e.placeholder,l=e.label,y=e.handleClear,T=e.emptyResultPlaceholder,R=e.isMulti,S=e.dismissButtonText,A=e.clearAllText,b=e.onClearAll,E=e.onItemRemove,L=e.selectedItemHeading,N=e.value,D=e.strictFullscreen,w=e.typeaheadInputRef,M=this.state,k=M.activeSuggestion,_=M.searchTerm,x=this.getResultsToShow();return i.createElement(g.K,{className:I("uitk-typeahead-dialog",{"uitk-typeahead-dialog-centered":!D}),isVisible:n,type:D?"full":"centered",triggerRef:w,openCallback:this.openDialog},i.createElement(u.v,{direction:"column",blockSize:"full_size"},i.createElement(d.t,null,i.createElement(m.b,{className:I("uitk-typeahead-input-wrapper"),navigationContent:{navIconLabel:"Close the dialog",onClick:this.onDismiss,navButtonId:"".concat(a,"-close")}},i.createElement(C.p,{className:I("uitk-typeahead-input-v2"),"data-stid":o&&"".concat(o,"-dialog-input"),domRef:this.toolbarInputRef,hasClearButton:_.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:o,label:l,onChange:this.handleChange,onKeyPress:this.handleKeyPress,placeholder:r,value:_,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,handleClear:y}))),i.createElement(d.t,null,i.createElement(f.z,{className:I("uitk-typeahead-dialog-content"),contentDomRef:this.contentRef,padded:!1},i.createElement(u.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},i.createElement(d.t,null,i.createElement(v.Z,{allowExactMatch:t,typeaheadLabel:l,onResultItemSelect:this.handleResultItemSelect,results:x,searchTerm:_,stid:o,listTitle:s,activeSuggestion:k,emptyResultPlaceholder:T,isMulti:R,dismissButtonText:S,selectedItemHeading:L,clearAllText:A,onClearAll:b,onItemRemove:E,value:N,contentRef:this.contentRef})),this.props.isMulti?i.createElement(d.t,null,i.createElement(h.o,{type:p.k.BUTTON},i.createElement(c.t,{disabled:0===(null==N?void 0:N.length),onClick:this.onDismiss,isFullWidth:!0},S))):null)))))},t.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}],t}(i.Component),A=function(e){var t=(0,o.useLocalization)();return i.createElement(S,(0,s.__assign)({l10n:t},e))}},36463:function(e,t,n){n.d(t,{p:function(){return u}});var a=n(70655),s=n(67294),i=n(36326),o=n(37093),r=n(78474),l=n.n(r),c=o.classNames.bind(l()),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.placeholder,o=(0,a.__rest)(e,["className","placeholder"]),r=c("uitk-typeahead-input",t);return s.createElement(i.n,(0,a.__assign)({},o,{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:r,type:"text",spellCheck:!1,placeholder:n}))},t.displayName="UitkTypeaheadInput",t}(s.Component)},67252:function(e,t,n){n.d(t,{j:function(){return I},k:function(){return C}});var a,s=n(70655),i=n(67294),o=n(29892),r=n(70094),l=n(23984),c=n(91233),u=n(33608),d=n(49349),h=n(3774),p=n(37093),g=n(28868),f=n(36463),m=n(11119),y=n(78474),v=n.n(y),T=p.classNames.bind(v()),R=function(e){return""===e||Array.isArray(e)&&0===e.length};!function(e){e.UP="UP",e.DOWN="DOWN"}(a||(a={}));var C=function(e){function t(t){var n=e.call(this,t)||this;n.toolbarInputRef=i.createRef(),n.keyPressed=!1,n.newAttr=-1,n.typingTimeout=0;var a=n.props,s=a.dialog,o=a.term,r=a.debounceRate;return n.state={activeSuggestion:-1,categorizedResults:[],data:{},menu:s,results:[],searchTerm:o,showResults:!0},n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleResultItemSelect=n.handleResultItemSelect.bind(n),n.focusInput=n.focusInput.bind(n),n.announceResults=n.announceResults.bind(n),n.onDismiss=n.onDismiss.bind(n),n.updateResults=n.updateResults.bind(n),n.updateResultsDebounced=r&&r>0?(0,h.debounce)(r,n.updateResults):n.updateResults,n.menuOpened=n.menuOpened.bind(n),n.menuClosed=n.menuClosed.bind(n),n.resetActiveSuggestion=n.resetActiveSuggestion.bind(n),n.resultsDomRef=i.createRef(),n}return(0,s.__extends)(t,e),t.prototype.componentDidUpdate=function(e,n){var a=this.state,s=a.searchTerm,i=a.results,o=a.showResults,r=this.props,l=r.label,c=r.l10n,u=r.value,d=r.defaultTerm,h=i&&i.length,g=this.isTypeAheadFocused();R(u)&&R(s)&&g&&!d&&(0,p.liveAnnounce)(c.formatText("typeahead.announceResults.trigerLabel",l)),n.searchTerm===s&&!R(u)&&!1===this.keyPressed&&g&&(0,p.liveAnnounce)(c.formatText("typeahead.announceResults.showingResults",l,h,s)),n.searchTerm!==s&&o&&(this.setState({results:t.placeholder}),this.updateResultsDebounced(s)),this.focusInput()},t.prototype.handleFocus=function(){this.selectInput()},t.prototype.handleResultItemSelect=function(e,t,n){var a,s=this,i=this.props,o=i.adapter,r=i.isMulti,l=i.onResultItemSelect,c=i.label,u=i.l10n,d=this.state.searchTerm;return null===(a=o.onItemSelection)||void 0===a?void 0:a.call(o,t).then((function(t){r?s.setState({activeSuggestion:-1}):s.setState({activeSuggestion:-1,searchTerm:e,showResults:!1}),l(e,t);var a=n?(0,g.od)(n)-1:0;r&&(0,p.liveAnnounce)("".concat(u.formatText("typeahead.announceResults.itemSelected",e),"\n             ").concat(u.formatText("typeahead.announceResults.showingResults",c,a,d))),r||(setTimeout((function(){(0,p.liveAnnounce)("".concat(u.formatText("typeahead.announceResults.itemSelected",e)," \n            ").concat(u.formatText("typeahead.announceResults.menuClosed")))}),100),s.onDismiss(),s.menuClosed())})).catch((function(){s.updateResults(e,!0,""!==e)}))},t.prototype.handleAnnounceResults=function(e){var t=this;this.typingTimeout&&clearTimeout(this.typingTimeout),(null==e?void 0:e.length)>0&&(this.typingTimeout=setTimeout((function(){t.announceResults(e)}),1e3))},t.prototype.handleKeyPress=function(e){var t=this.state,n=t.activeSuggestion,a=t.searchTerm,s=this.props,i=s.value,o=s.l10n;this.keyPressed=!0;var r=(0,g.M3)(this.getResultsToShow(),Array.isArray(i)?i:[]),l=r&&(0,g.od)(r);this.keyPressed=!0;var c=a&&a.split("");if(c){var u="'".concat(c.join("' , '")," '");""!==a&&l>0&&(0,p.liveAnnounce)(o.formatText("typeahead.announceResults.resultsAvailable",u,l))}if("Enter"!==e.key&&38!==e.keyCode||e.preventDefault(),"Enter"===e.key){var d=(0,g.OS)(r,n);d?this.handleResultItemSelect(d.value,d.data,r):this.handleResultItemSelect(a,void 0,r)}},t.prototype.handleChange=function(e){var t=this.props.onInputChange;this.setState({searchTerm:e.target.value,showResults:!0},this.focusInput),""===e.target.value&&this.resetActiveSuggestion(),t&&t(e)},t.prototype.handleActiveSuggestion=function(e){var t=this.state,n=t.activeSuggestion,s=t.results,i=t.searchTerm,o=this.props.allowExactMatch&&i?1:0,r=s.length+o,l=0;e===a.UP?l=-1===n?r:r-1:e===a.DOWN&&(l=r+1);var c=(n+l)%r,u=(this.newAttr+l)%r;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1},t.prototype.handleUpArrowKey=function(e){38===e.keyCode&&(e.preventDefault(),this.handleActiveSuggestion(a.UP))},t.prototype.handleDownArrowKey=function(e){40===e.keyCode&&(this.keyPressed=!0,this.handleActiveSuggestion(a.DOWN))},t.prototype.handleTabKey=function(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){var t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}},t.prototype.handleEscKey=function(e){27===e.keyCode&&this.onDismiss()},t.prototype.handleKeyDown=function(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)},t.prototype.handleKeyUp=function(e){this.handleTabKey(e)},t.prototype.onDismiss=function(){var e=this.props,t=e.isMulti,n=e.onDismiss,a=e.l10n;this.keyPressed=!1,this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),n&&n(),t&&(0,p.liveAnnounce)(a.formatText("typeahead.announceResults.menuClosed"))},t.prototype.getResultsToShow=function(){var e=this.props.categorize,t=this.state,n=t.categorizedResults,a=t.results;return e||n&&n.length?{items:n,type:"categorized"}:{items:a,type:"uncategorized"}},t.getDerivedStateFromProps=function(e,t){var n=e.term===t.searchTerm||e.dialog?t.searchTerm:e.term;return e.isMulti?null:{searchTerm:n}},t.prototype.menuClosed=function(){var e=this.props,t=e.adapter,n=e.onDismiss;t&&"function"==typeof t.logTypeaheadDismiss&&t.logTypeaheadDismiss(),n&&n(),this.resetActiveSuggestion()},t.prototype.menuOpened=function(){var e=this.props.defaultTerm,t=this.state.searchTerm;this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),this.selectInput(),this.updateResults(!t&&e?e:t,!1,""!==t)},t.prototype.announceResults=function(e){var t=this.state.searchTerm,n=this.props,a=n.l10n,s=n.label,i=n.defaultTerm,o=t&&t.split("");if(o){var r="'".concat(o.join("' , '")," '");e&&this.isTypeAheadFocused()&&(0,p.liveAnnounce)(a.formatText("typeahead.announceResults.resultsAvailable",r,e.length))}else i&&e&&this.isTypeAheadFocused()&&(0,p.liveAnnounce)(a.formatText("typeahead.announceResults.showingResultsDefault",s,e.length))},t.prototype.isCategorizedResult=function(e){return"heading"in e},t.prototype.updateResults=function(e,t,n){return(0,s.__awaiter)(this,void 0,void 0,(function(){var a,i,o,r,l,c,u,d,h,p,g,f,m,y=this;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return this.lastSearchTerm=e,a=this.props,i=a.adapter,o=a.categorize,r=a.defaultTerm,""!==(h=""===e?null!=r?r:"":e)&&t?o?[4,Promise.all([i.fetchResultsCategorized(h),i.fetchRecentSearchResultsCategorized()])]:[3,2]:[3,5];case 1:return p=s.sent(),[3,4];case 2:return[4,Promise.all([i.fetchResults(h),i.fetchRecentSearchResults()])];case 3:p=s.sent(),s.label=4;case 4:return u=(m=p)[0],(d=m[1])&&d.length>0?o||this.isCategorizedResult(d[0])?c=d:l=d:o?c=u:l=u,[3,11];case 5:return o?[4,i.fetchResultsCategorized(h)]:[3,7];case 6:return c=s.sent(),[3,11];case 7:return""!==h&&n?[4,i.fetchAlternativeResults(h)]:[3,9];case 8:return(g=s.sent())&&g.length&&this.isCategorizedResult(g[0])?c=g:l=g,[3,11];case 9:return[4,i.fetchResults(h)];case 10:(g=s.sent())&&g.length&&this.isCategorizedResult(g[0])?c=g:l=g,s.label=11;case 11:return this.lastSearchTerm!==e||(l&&l.length?(i.logSuggestionShown(t||n?"":e,l),this.setState({results:l,categorizedResults:[]},(function(){y.handleAnnounceResults(l)}))):c&&c.length?(i.logSuggestionShown(t||n?"":e,c),f=c.flatMap((function(e){return e.typeaheadResults})),this.setState({categorizedResults:c,results:f},(function(){y.handleAnnounceResults(l)}))):this.setState({results:[],categorizedResults:[]})),[2]}}))}))},t.prototype.selectInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.select&&e.current.select()},t.prototype.focusInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.focus&&(0,p.isElementVisible)(this.toolbarInputRef.current)&&e.current.focus()},t.prototype.resetActiveSuggestion=function(){this.setState({activeSuggestion:-1})},t.prototype.isTypeAheadFocused=function(){return this.toolbarInputRef.current===document.activeElement},t.prototype.render=function(){var e=this.props,t=e.allowExactMatch,n=e.children,a=e.dialog,s=e.stid,o=e.label,h=e.listTitle,p=e.placeholder,g=e.handleClear,y=e.emptyResultPlaceholder,v=e.dismissButtonText,R=e.value,C=e.isMulti,I=e.clearAllText,S=e.onClearAll,A=e.onItemRemove,b=e.selectedItemHeading,E=e.typeaheadInputRef,L=this.state,N=L.activeSuggestion,D=L.searchTerm,w=this.getResultsToShow();return i.createElement("div",{className:T("uitk-menu-typeahead-wrapper"),title:o},i.createElement("div",{className:T("uitk-typeahead-menu"),id:s&&"".concat(s,"-menu")},i.createElement("div",{className:T("uitk-menu-trigger")},n),i.createElement(u.K,{autoFocus:!1,type:"popover",className:T("uitk-typeahead-menu-container",{"is-multi":C}),disableArrowKeyHandler:!0,isVisible:a,openCallback:this.menuOpened,onDismiss:this.menuClosed,triggerRef:E,showOverTrigger:!0,autoPosition:!1},i.createElement(l.v,{direction:"column",blockSize:"full_size"},i.createElement(c.t,null,i.createElement("div",{className:T("uitk-typeahead-input-wrapper")},i.createElement(f.p,{className:T("uitk-typeahead-input-v2"),"data-stid":s&&"".concat(s,"-menu-input"),domRef:this.toolbarInputRef,hasClearButton:D.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:s,label:o,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:p,value:D,handleClear:g}))),i.createElement(c.t,null,i.createElement(d.z,{className:T("uitk-typeahead-menu-content"),padded:!1},i.createElement(m.Z,{typeaheadLabel:o,allowExactMatch:t,onResultItemSelect:this.handleResultItemSelect,results:w,searchTerm:D,stid:s,listTitle:h,activeSuggestion:N,emptyResultPlaceholder:y,isMulti:C,dismissButtonText:v,selectedItemHeading:b,clearAllText:I,onClearAll:S,onItemRemove:A,value:R,domRef:this.resultsDomRef}))),C&&i.createElement(c.t,null,i.createElement(l.v,{justifyContent:"end",className:T("uitk-typeahead-menu-footer")},i.createElement(c.t,null,i.createElement(r.Y,{disabled:0===(null==R?void 0:R.length),onClick:this.onDismiss},v))))))))},t.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}],t}(i.Component),I=function(e){var t=(0,o.useLocalization)();return i.createElement(C,(0,s.__assign)({l10n:t},e))}},57828:function(e,t,n){n.d(t,{v:function(){return g}});var a=n(70655),s=n(67294),i=n(46605),o=n(37093),r=n(44896),l=n(13413),c=n(23984),u=n(91233),d=n(78474),h=n.n(d),p=o.classNames.bind(h()),g=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=n.handleClick.bind(n),n}return(0,a.__extends)(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.data;(0,e.onResultItemSelect)(e.value,t)},t.prototype.render=function(){var e,t,n,a,d=this.props,h=d.activeSuggestion,g=d.className,f=d.icon,m=d.index,y=d.name,v=d.stid,T=d.sanitized,R=d.subtext,C=d.contentRef,I=p(g,R?"uitk-typeahead-result-item has-subtext":"uitk-typeahead-result-item",!0===h&&"uitk-typeahead-result-item-hover");if(!0===h){var S=y.replace(/(<([^>]+)>)/gi,"");(0,o.liveAnnounce)("".concat(S),void 0,void 0,C)}return T?n=s.createElement("span",null,y):(n=s.createElement("div",{className:p("truncate")},s.createElement("span",{dangerouslySetInnerHTML:{__html:y}})),R&&(a=s.createElement("div",{className:p("is-subText","truncate"),dangerouslySetInnerHTML:{__html:R}}))),f&&(t=s.createElement(i.fR,{name:f,size:i.eZ.SMALL})),e=R?"".concat(y," ").concat(R).replace(/(<([^>]+)>)/gi,""):y.replace(/(<([^>]+)>)/gi,""),s.createElement(r.v,{spacing:"relaxed",className:I,"data-stid":v&&"".concat(v,"-result-item"),"data-index":m},s.createElement(l.AE,{"data-stid":v&&"".concat(v,"-result-item-button"),onClick:this.handleClick,className:p(R&&"has-subtext","".concat(v,"-result-item-button"),"result-item-button"),"aria-label":e,type:"button",isFullWidth:!0}),s.createElement(c.v,null,s.createElement(u.t,{alignSelf:"center"},t),s.createElement(u.t,null,s.createElement("div",{className:p("uitk-typeahead-button-label","truncate")},n,a))))},t.displayName="UitkTypeaheadResultItem",t}(s.Component)},11119:function(e,t,n){n.d(t,{Z:function(){return I}});var a=n(29892),s=n(67294),i=n(23984),o=n(46605),r=n(44896),l=n(89362),c=n(30300),u=n(37093),d=n(93351),h=n(78987),p=n(42382),g=n(28868),f=n(45745),m=n(57828),y=n(99904),v=n(78474),T=n.n(v),R=u.classNames.bind(T()),C=function(e){var t=e&&e.data&&e.data.type===p.r.CURRENT_LOCATION;return R({"is-child":e.data&&e.isChild,"uitk-typeahead-current-location":t&&e.data.enabled,disabled:t&&!e.data.enabled})};function I(e){var t=e.activeSuggestion,n=e.allowExactMatch,u=e.listTitle,p=e.typeaheadLabel,v=e.onResultItemSelect,T=e.results,I=e.searchTerm,S=e.stid,A=e.emptyResultPlaceholder,b=e.isMulti,E=e.onClearAll,L=e.onItemRemove,N=e.clearAllText,D=e.selectedItemHeading,w=e.value,M=e.domRef,k=e.contentRef,_=(0,a.useLocalization)(),x=b?(0,g.M3)(T,w):T,O=(0,g.od)(x),P=b?"uitk-typeahead-multi-selection-results":"uitk-typeahead-results",z=function(){return b&&w.length>0?s.createElement(y.W,{typeaheadLabel:p,values:w,stid:S,clearAllText:N,onClear:E,onItemRemove:L,headingText:D,className:R("uitk-typeahead-results-selections")}):null};if(!T||0===T.items.length)return A?s.createElement(d.l,{padding:{blockstart:"three"}},s.createElement("div",null,z(),s.createElement(i.v,{justifyContent:"center",alignContent:"center",className:R("uitk-typeahead-empty-state")},s.createElement(c.b,{align:"center"},s.createElement(d.l,{margin:{blockstart:"six"}},s.createElement(o.fR,{name:"search",size:o.eZ.XLARGE})),s.createElement(d.l,{margin:{blockend:"three"}},s.createElement(c.b,{size:300},A)))))):s.createElement(d.l,{padding:{blockstart:"three"}},s.createElement("div",null,z()));function U(e,t){v(e,t,x)}var K=function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.disabled},G=function(e){var t,n;return null===(n=null===(t=e[0])||void 0===t?void 0:t.typeaheadResults[0])||void 0===n?void 0:n.disabled},H=function(){return s.createElement("div",{className:R("uitk-typeahead-results-skeleton-container")},s.createElement(h.H,{className:R("uitk-typeahead-results-skeleton","uitk-typeahead-results-skeleton-first")}),s.createElement(h.H,{className:R("uitk-typeahead-results-skeleton","uitk-typeahead-results-skeleton-second")}),s.createElement(h.H,{className:R("uitk-typeahead-results-skeleton")}))};return s.createElement(d.l,{padding:{blockstart:"three"}},s.createElement("div",{className:R(P),ref:M},z(),s.createElement(l.D,{className:R("no-bullet"),"data-stid":S&&"".concat(S,"-results")},function(e){switch(e.type){case"categorized":return G(e.items)?H():(a=e.items)&&a.map((function(e){return s.createElement(s.Fragment,{key:e.heading},e.heading&&s.createElement(r.v,{spacing:"relaxed",className:R("uitk-typeahead-result-title")},s.createElement("div",{className:R("uitk-typeahead-result-title-label","truncate")},e.heading)),e.typeaheadResults&&e.typeaheadResults.map((function(e,n){var a;return s.createElement(m.v,{className:C(e),data:e.data,key:n,index:n,icon:e.icon,name:e.name,onResultItemSelect:U,stid:S,value:e.value,subtext:e.subtext,activeSuggestion:-1!==t&&t===(null===(a=e.data)||void 0===a?void 0:a.index)})})))}));case"uncategorized":return K(e.items)?H():(n=e.items)&&n.map((function(e,n){return s.createElement(s.Fragment,{key:n},u&&s.createElement(r.v,{spacing:"relaxed",className:R("uitk-typeahead-result-title")},s.createElement("div",{className:R("uitk-typeahead-result-title-label","truncate")},e.title)),s.createElement(m.v,{className:C(e),data:e.data,key:n,index:n,icon:e.icon,name:e.name,onResultItemSelect:U,stid:S,value:e.value,subtext:e.subtext,activeSuggestion:-1!==t&&t===n,contentRef:k}))}))}var n,a}(x),n&&I&&!function(e){switch(e.type){case"categorized":return G(e.items);case"uncategorized":return K(e.items)}}(x)&&s.createElement(m.v,{icon:"search",name:_.formatText("typeahead.searchFor",[I]),onResultItemSelect:U,index:O,stid:S,value:I,sanitized:!0,activeSuggestion:!(-1===t||t!==O)})),s.createElement(f.W,{results:x})))}},99904:function(e,t,n){n.d(t,{W:function(){return h}});var a=n(67294),s=n(58850),i=n(8315),o=n(13413),r=n(37093),l=n(29892),c=n(78474),u=n.n(c),d=r.classNames.bind(u());function h(e){var t=e.headingText,n=e.hideHeading,c=void 0!==n&&n,u=e.typeaheadLabel,h=e.stid,p=void 0===h?"":h,g=e.values,f=void 0===g?[]:g,m=e.onItemRemove,y=void 0===m?function(){}:m,v=e.onClear,T=void 0===v?function(){}:v,R=e.clearAllText,C=e.className,I=(0,l.useLocalization)(),S=null!=R?R:I.formatText("typeahead.mulselect.clearAll"),A=null!=t?t:I.formatText("typeahead.multiselect.selectedItemHeading");return a.createElement("div",{className:d("uitk-typeahead-selections",C)},!c&&A&&f.length>0?a.createElement("div",{className:d("uitk-typeahead-result-title-label","truncate")},A):null,a.createElement("div",{className:d("uitk-typeahead-pills"),"data-stid":p},f.map((function(e,t){return a.createElement(s.p,{onClick:function(){return function(e,t){(0,r.liveAnnounce)(I.formatText("typeahead.removeSelection",e)),y(t)}(e,t)},id:"".concat(p,"-pill-").concat(t),key:"".concat(p,"-pill-").concat(t),className:d("uitk-spacing-margin-block-one")},e)})),f.length?a.createElement(i.m,{onClick:function(){(0,r.liveAnnounce)(I.formatText("typeahead.clearAllSelections",u)),T()},size:o.xY.SMALL},S):null))}},87220:function(e,t,n){n.d(t,{A:function(){return a},c:function(){return C}});var a,s=n(70655),i=n(29892),o=n(19633),r=n(67294),l=n(68369),c=n(54552),u=n(37093),d=n(42382),h=n(6239),p=n(36463),g=n(67252),f=n(99904),m=n(78474),y=n.n(m),v=u.classNames.bind(y()),T="typeahead.enteringInput";!function(e){e.MENU="menu",e.DIALOG="dialog",e.ADAPTIVE="adaptive"}(a||(a={}));var R=function(e){function t(t){var n=e.call(this,t)||this;return n.keyArray=[],n.state={dialog:!1,mounted:!1,searchTerm:"",startSearchTerm:""},t.isMulti&&!Array.isArray(t.value)&&console.warn("Use an array of values if set to isMulti"),n.typeaheadInputRef=r.createRef(),n.handleResultItemSelect=n.handleResultItemSelect.bind(n),n.dismissTypeahead=n.dismissTypeahead.bind(n),n.openTypeahead=n.openTypeahead.bind(n),n.renderDialog=n.renderDialog.bind(n),n.renderMenu=n.renderMenu.bind(n),n.handleClear=n.handleClear.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.focusTypeaheadInput=n.focusTypeaheadInput.bind(n),n.renderMenuTypeahead=n.renderMenuTypeahead.bind(n),n.renderDialogTypeahead=n.renderDialogTypeahead.bind(n),n.updateStartSearchTerm=n.updateStartSearchTerm.bind(n),n}return(0,s.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n;return e.isMulti?(0,s.__assign)((0,s.__assign)({},t),{searchTerm:""}):e.value!==t.searchTerm?(0,s.__assign)((0,s.__assign)({},t),{searchTerm:null!==(n=e.value)&&void 0!==n?n:""}):null},t.prototype.componentDidMount=function(){var e=this.props,t=e.value,n=e.onMountCB,a=e.isMulti;Array.isArray(t)&&a&&this.setState({searchTerm:t.join(", ")}),this.setState({mounted:!0}),n&&n(this.typeaheadInputRef)},t.prototype.handleKeyPress=function(e,t){var n=e.keyCode||e.which,s=e.key;if(n>=65&&n<=90||n>=97&&n<=122){this.keyArray.push(s);var i=this.keyArray.join("");t===a.DIALOG&&this.updateStartSearchTerm(t,i)}},t.prototype.handleClear=function(){var e=this.props.handleClear;this.setState({searchTerm:""}),"function"==typeof e&&e()},t.prototype.handleResultItemSelect=function(e,t){var n=this.props,a=n.onUpdate,s=n.isMulti,i=n.onResultSelection;if(a&&a({term:e,data:t}),i){var o=new CustomEvent("change"),r=document.createElement("input");r.value=e,t&&t.id&&r.setAttribute("id",t.id),r.addEventListener("change",(function(e){i(e)})),r.dispatchEvent(o)}s||(this.setState({searchTerm:e}),this.focusTypeaheadInput())},t.prototype.getAdapter=function(){var e=this.props,t=e.adapter,n=e.l10n;return t instanceof d.n&&t.setL10n(n),t},t.prototype.dismissTypeahead=function(e){var t=this.props.onDismiss,n=(0,u.isElementVisible)(this.typeaheadInputRef.current);"function"==typeof t&&t(e),this.setState({dialog:!1,startSearchTerm:""}),this.keyArray=[],this.typeaheadInputRef.current&&n&&this.typeaheadInputRef.current.focus()},t.prototype.updateStartSearchTerm=function(e,t){var n=this;this.setState({startSearchTerm:t},(function(){"dialog"===e&&n.openTypeahead(e)}))},t.prototype.openTypeahead=function(e){var t=this.props,n=t.adapter,s=t.onClick,i=this.state,o=i.dialog,r=i.searchTerm,l=o;e===a.MENU?l?this.dismissTypeahead(e):("function"==typeof s&&s(e),this.setState({dialog:!0}),setTimeout((function(){n.typeaheadDialogOpened(r)}))):e===a.DIALOG&&("function"==typeof s&&s(e),this.setState({dialog:!0}))},t.prototype.focusTypeaheadInput=function(){var e=this.props.l10n;(0,u.liveAnnounce)(e.formatText(T)),this.typeaheadInputRef.current&&this.typeaheadInputRef.current.focus()},t.prototype.renderMenu=function(){var e=this,t=this.props,n=t.allowExactMatch,i=t.label,o=t.listTitle,l=t.categorize,c=t.onInputChange,u=t.stid,d=t.typeaheadPlaceholder,h=t.typeaheadEmptyResultPlaceholder,p=t.value,f=t.isMulti,m=void 0!==f&&f,y=t.customTrigger,v=t.children,T=t.dismissButtonText,R=t.clearAllText,C=t.handleClear,I=t.onItemRemove,S=t.selectedItemHeading,A=t.l10n,b=t.defaultTerm,E=t.debounceRate,L={onDismiss:function(){e.dismissTypeahead("menu")}},N=this.state,D=N.dialog,w=N.searchTerm,M=this.getAdapter();return l&&M.setTypeaheadCategories(),r.createElement(g.j,(0,s.__assign)({},L,{isMulti:m,value:p,label:i,adapter:M,dialog:y&&y.showTypeahead||D,allowExactMatch:n,onInputChange:c,onResultItemSelect:this.handleResultItemSelect,stid:u,term:null!=w?w:b,placeholder:d,emptyResultPlaceholder:h,listTitle:o,categorize:l,handleClear:this.handleClear,clearAllText:R,onClearAll:C,dismissButtonText:null!=T?T:A.formatText("typeahead.multiselect.dismiss"),onItemRemove:I,selectedItemHeading:S,defaultTerm:b,debounceRate:E,typeaheadInputRef:this.typeaheadInputRef}),y?v:this.renderTrigger(a.MENU))},t.prototype.renderDialog=function(){var e=this,t=this.props,n=t.allowExactMatch,i=t.id,o=t.label,l=t.listTitle,c=t.categorize,u=t.onInputChange,d=t.stid,p=t.typeaheadPlaceholder,g=t.typeaheadEmptyResultPlaceholder,f=t.customTrigger,m=t.defaultTerm,y=t.isMulti,v=void 0!==y&&y,T=t.clearAllText,R=t.handleClear,C=t.dismissButtonText,I=t.selectedItemHeading,S=t.onItemRemove,A=t.value,b=t.l10n,E=t.debounceRate,L=t.strictFullscreen,N=this.state,D=N.dialog,w=N.searchTerm,M=N.startSearchTerm,k=this.getAdapter();c&&k.setTypeaheadCategories();var _={onDismiss:function(){e.dismissTypeahead(a.DIALOG)}};return r.createElement(h.w,(0,s.__assign)({adapter:k,allowExactMatch:n,dialog:f&&f.showTypeahead||D,id:i,label:o},_,{onInputChange:u,onResultItemSelect:this.handleResultItemSelect,term:w,startSearchTerm:M,stid:d,placeholder:p,emptyResultPlaceholder:g,listTitle:l,categorize:c,handleClear:this.handleClear,defaultTerm:m,isMulti:v,clearAllText:T,onClearAll:R,dismissButtonText:null!=C?C:b.formatText("typeahead.multiselect.dismiss"),onItemRemove:S,selectedItemHeading:I,value:A,debounceRate:E,strictFullscreen:L,typeaheadInputRef:this.typeaheadInputRef}))},t.prototype.renderTrigger=function(e){var n,s=this,i=this.props,o=i.accessibilityLabel,d=i.analytics,h=i.icon,g=i.hasClearButton,f=i.hasVisibleLabel,m=i.invalid,y=i.label,T=i.name,R=i.placeholder,C=i.stid,I=i.customTrigger,S=i.children,A=i.isMulti,b=i.value,E=i.required,L=this.state,N=L.mounted,D=L.searchTerm,w=L.dialog,M=o||y;n=""===D?R?"".concat(M," ").concat(R):"".concat(M):"".concat(M," ").concat(D);var k="menu"===e?l.w:p.p;return I?S:r.createElement("div",null,N&&r.createElement(c.o,{"aria-label":n,"aria-expanded":w,icon:h,label:y,hasClearButton:g,handleClear:this.handleClear,"aria-describedby":m&&C?"".concat(C,"-input-error"):void 0,"data-stid":C&&e===a.MENU?"".concat(C,"-menu-trigger"):C&&"dialog"===e?"".concat(C,"-dialog-trigger"):"",domRef:this.typeaheadInputRef,onClick:function(){s.openTypeahead(e)},onKeyPress:function(t){s.handleKeyPress(t,e)},onClickCapture:d&&u.analyticsTracker.bind(this,d,""),placeholder:R,value:A?b.join(", "):b,invalid:m}),r.createElement(k,{className:v({"is-hidden":N}),"data-stid":C&&"".concat(C,"-input"),domRef:this.typeaheadInputRef,hasClearButton:!1,hasVisibleLabel:f,name:T,onChange:t.defaultProps.onInputChange,placeholder:R,value:D,id:C&&"".concat(C,"-input"),required:E}))},t.prototype.renderMenuTypeahead=function(){var e=this.props.renderMenu;return e?e(this.renderMenu()):this.renderMenu()},t.prototype.renderDialogTypeahead=function(){var e=this.props,t=e.renderDialog,n=e.customTrigger,s=this.state.dialog,i=n&&n.showTypeahead||s;return r.createElement(r.Fragment,null,t?s?t(this.renderDialog()):null:r.createElement("div",{className:v("uitk-typeahead-dialog-layer",{"uitk-typeahead-dialog-layer-responsive":i,"is-hidden":!i})},this.renderDialog()),this.renderTrigger(a.DIALOG))},t.prototype.render=function(){var e=this.props,t=e.renderType,n=e.stid,s=e.isMulti,i=e.value,l=e.onItemRemove,c=e.clearAllText,u=e.showPills,d=e.label;return r.createElement("div",{className:v("uitk-typeahead"),"data-stid":n},t===a.DIALOG?this.renderDialogTypeahead():t===a.MENU?this.renderMenuTypeahead():t===a.ADAPTIVE?r.createElement(o.Viewport,null,r.createElement(o.ViewSmall,null,this.renderDialogTypeahead()),r.createElement(o.ViewLarge,null,this.renderMenuTypeahead())):"",s&&u?r.createElement(f.W,{typeaheadLabel:d,hideHeading:!0,values:i,stid:n,onItemRemove:l,onClear:this.handleClear,clearAllText:c,className:v("uitk-spacing-margin-blockstart-three")}):null)},t.displayName="UitkTypeahead",t.defaultProps={hasClearButton:!1,onInputChange:function(){return null},renderType:a.ADAPTIVE,isMulti:!1},t}(r.Component),C=r.forwardRef((function(e,t){var n=(0,i.useLocalization)();return r.createElement(R,(0,s.__assign)({l10n:n,ref:t},e))}))}}]);
//# sourceMappingURL=uitk-typeahead.78f8cb7c9f6f51167cb2.js.map