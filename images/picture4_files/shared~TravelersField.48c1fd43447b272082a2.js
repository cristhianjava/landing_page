(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[2302],{92413:function(e,n,t){var a;t.d(n,{J:function(){return a}}),function(e){e.IN_SEAT="seat",e.ON_LAP="lap"}(a||(a={}))},70674:function(e,n,t){var a;t.d(n,{m:function(){return a}}),function(e){e.FLIGHT_SEARCH="FLIGHT_SEARCH",e.HOTWIRE_FLIGHT_SEARCH="HOTWIRE_FLIGHT_SEARCH",e.HOTEL_SEARCH="HOTEL_SEARCH",e.HOTWIRE_HOTEL_SEARCH="HOTWIRE_HOTEL_SEARCH",e.PACKAGE_SEARCH="PACKAGE_SEARCH",e.HOTWIRE_PACKAGE_SEARCH="HOTWIRE_PACKAGE_SEARCH",e.CRUISE_SEARCH="CRUISE_SEARCH",e.GROUND_TRANSPORT_SEARCH="GROUND_TRANSPORT_SEARCH",e.CAR_SEARCH="CAR_SEARCH",e.THIRD_SEARCH="THIRD_SEARCH",e.NONE="NONE"}(a||(a={}))},83996:function(e,n,t){t.d(n,{P:function(){return xe}});var a=t(67294),r=t(73030),i=t(37093),o=t(29323),l=t(54552),c=t(68949),u=t(24499),s=t(97534),d=t(8315),m=t(80463),f=t(13413),h=t(66020),g=t(45638),v=t(10333),p=t(46605),E=t(23984),S=t(91233),R=t(38325),T=t(18397),A=t(85213),O=t(29097),k=t(93351),C=t(29892),w=(0,o.observer)((function(e){var n=e.onChange,t=e.id,r=e.labelKey,i=e.dataTestid,o=e.children,l=e.ageOptions,c=e.padding,u=e.menuIndex,s=(0,C.useLocalization)().formatText,d=function(e){var t=+e.currentTarget.id.slice(-1);n(u,t)(e)};return a.createElement("div",null,a.createElement(k.l,{padding:c},a.createElement(A.a,{columns:2,space:"two","data-testid":i},o.map((function(e,n){var i=s(r,n+1),o="".concat(t,"-").concat(u,"-").concat(n),c=isNaN(+o.slice(-1))?"".concat(n):o;return a.createElement(O.P,{colSpan:1,key:n},a.createElement(T.e,{label:i,value:-1===e.age?"":e.age.toString(),onChange:d,id:c,emptyState:!0},l.map((function(e){return a.createElement("option",{key:e.value,value:e.value},e.name)}))))})))))})),b="wizard.roomPicker.roomPickerOpened.liveAnnounce",I="wizard.roomPicker.roomAdded.liveAnnounce",y="wizard.roomPicker.roomRemoved.liveAnnounce",x="wizard.roomPicker.doneButton.label",P="wizard.roomPicker.addRoomButton.label",H="wizard.roomPicker.removeRoomButton.label",_="wizard.roomPicker.removeRoomButton.a11yLabel",L="wizard.roomPicker.childAgeInput.label",z="wizard.roomPicker.infantAgeInput.label",N="wizard.roomPicker.room.title",F="wizard.roomPicker.room.a11yLabel",G="wizard.roomPicker.childUpdated.liveAnnounce",j="wizard.roomPicker.infantUpdated.liveAnnounce",U="wizard.roomPicker.decreaseAdults.text",D="wizard.roomPicker.decreaseChildren.text",K="wizard.roomPicker.decreaseInfants.text",B="wizard.roomPicker.decreaseAdultsInRoom.text",W="wizard.roomPicker.decreaseChildrenInRoom.text",J="wizard.roomPicker.decreaseInfantsInRoom.text",V="wizard.roomPicker.adults.text",M="wizard.roomPicker.increaseAdults.text",Y="wizard.roomPicker.increaseChildren.text",Q="wizard.roomPicker.increaseInfant.text",X="wizard.roomPicker.increaseAdultsInRoom.text",Z="wizard.roomPicker.increaseChildrenInRoom.text",q="wizard.roomPicker.increaseInfantInRoom.text",$="wizard.roomPicker.children.text",ee="wizard.roomPicker.infants.text",ne="wizard.airline.children.seatRules",te="wizard.airline.children.seatRulesPlural",ae="wizard.airline.children.seatOption.inSeat",re="wizard.airline.children.seatOption.onLap",ie="wizard.airline.ageRules.label",oe=t(93239),le=t(5419),ce=function(){return ce=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},ce.apply(this,arguments)},ue=(0,o.inject)("analytics","context")((function(e){var n,t=a.createRef();e.roomRefs.push(t);var r,o=(0,C.useLocalization)().formatText,l=function(e,n,t,a){var r=n.adults,i=n.children;return e?a+Math.min(t,e-(r+i.length)):t},c=(0,oe.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),u="guests.",s=e.lobState.config.elementId||"",m=s.includes("flight"),f=s.includes("car"),h=m||f?o(M):o(X,e.index+1),g=m||f?o(U):o(B,e.index+1),v=m||f?o(Y):o(Z,e.index+1),p=m||f?o(D):o(W,e.index+1),T=m||f?o(Q):o(q,e.index+1),A=m||f?o(K):o(J,e.index+1),O=1===e.index?"six":"unset",b=1===e.index?"two":"unset";return a.createElement(k.l,{padding:{blockstart:O},margin:{blockstart:b}},a.createElement("div",{className:"roomPickerRoom","data-testid":"room-".concat(e.index+1)},e.config.withRooms&&a.createElement(k.l,{padding:{blockstart:"two"}},a.createElement("div",{ref:t,"data-testid":"room-header"},a.createElement(le.y,{size:7,tag:"h3","data-testid":"room-header-".concat(e.index),"aria-label":o(F,e.index+1,e.travelers.rooms.length),tabIndex:0},o(N,e.index+1)))),a.createElement(R.Q,{label:o(V),incrementText:h,decrementText:g,description:o((null===(n=e.config)||void 0===n?void 0:n.adultsCaptionToken)||""),max:l(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxAdultsPerRoom,e.room.adults),min:e.config.minAdultsPerRoom,value:e.room.adults,onChange:(r=e.index,function(n){e.setTravelers({rooms:e.travelers.rooms.map((function(e,t){return t===r?ce(ce({},e),{adults:parseInt(n.target.value,10)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent("".concat(u).concat(r,".adults"))}),className:"adultStepInput",id:"adult-input-".concat(e.index)}),a.createElement(R.Q,{label:o($),incrementText:v,decrementText:p,description:o(e.config.childrenCaptionToken),max:l(e.config.maxTravelersPerRoom,e.travelers.rooms[e.index],e.config.maxChildrenPerRoom,e.room.children.length),min:e.config.minChildrenPerRoom,value:e.room.children.length,onChange:function(n){return function(t){var a=parseInt(t.target.value,10)>e.travelers.rooms[n].children.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minChildAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,t){return t===n?ce(ce({},e),{children:a?e.children.concat({age:r}):e.children.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent("".concat(u).concat(n,".children"))}}(e.index),className:"childStepInput",id:"child-input-".concat(e.index)}),e.room.children&&e.room.children.length>0&&e.config.withAges&&a.createElement(w,{ageOptions:e.childAgeOptions,onChange:function(n,t){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===n?ce(ce({},e),{children:e.children.map((function(e,n){return n===t?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(o(G,t+1,r),i.Level.POLITE)}},children:e.room.children,padding:{blockstart:"one",blockend:"three"},menuIndex:e.index,labelKey:L,id:"child-age-input"}),e.config.withInfants&&a.createElement(a.Fragment,null,a.createElement(R.Q,{label:o(ee),incrementText:T,decrementText:A,description:o(e.config.infantsCaptionToken),max:e.config.maxInfantsPerRoom,min:e.config.minInfantsPerRoom,value:e.room.infants.length,onChange:function(n){return function(t){var a=parseInt(t.target.value,10)>e.travelers.rooms[n].infants.length,r=e.config.withAges&&e.config.validateChildInfantValues?-1:e.config.minInfantAge;e.setTravelers({rooms:e.travelers.rooms.map((function(e,t){return t===n?ce(ce({},e),{infants:a?e.infants.concat({age:r}):e.infants.slice(0,-1)}):e})),infantSeating:e.travelers.infantSeating}),c.trackEvent("".concat(u).concat(n,".infants"))}}(e.index),className:"childStepInput",id:"infant-input-".concat(e.index)}),e.config.withAges&&a.createElement(w,{ageOptions:e.infantAgeOptions,onChange:function(n,t){return function(a){var r=parseInt(a.target.value,10);e.setTravelers({rooms:e.travelers.rooms.map((function(e,a){return a===n?ce(ce({},e),{infants:e.infants.map((function(e,n){return n===t?{age:r}:e}))}):e})),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(o(j,t+1,r),i.Level.POLITE)}},children:e.room.infants,padding:{blockstart:"one"},dataTestid:"infant-ages",menuIndex:e.index,labelKey:z,id:"infant-age-input"})),e.index>0&&a.createElement(k.l,{padding:{blockstart:"four"}},a.createElement(E.v,{justifyContent:"end"},a.createElement(S.t,null,a.createElement("div",{className:"removeRoomButton"},a.createElement(d.m,{onClick:function(n){return function(){e.setTravelers({rooms:e.travelers.rooms.filter((function(e,t){return n!==t})),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(o(y,""),i.Level.POLITE),e.setTotalRoomRefs(e.totalRoomRefs-1),c.trackEvent("".concat(u,"remove-room"))}}(e.index),"aria-label":o(_,e.index+1,e.travelers.rooms.length)},o(H))))))))})),se=t(92413),de=t(89105),me=t(30300),fe=t(73072),he=(0,o.inject)("analytics")((function(e){var n=[],t=[],r=(0,C.useLocalization)().formatText,o=function(e,n,t,a){for(var i=e;i<=n;i++){var o=i===e&&t?r(t):i.toString();a.push({value:i.toString(),name:o})}};o(e.config.minChildAge,e.config.maxChildAge,e.config.youngestChildAgeTextToken,n),o(e.config.minInfantAge,e.config.maxInfantAge,e.config.youngestInfantAgeTextToken,t);var l=(0,oe.uY)(e.lobState.trackingEnabled,e.analytics,e.lobState.moduleName),c="guests.",R=(0,de.Y)(e.travelers),T=R.numOfChildren,A=R.numOfInfants,O=e.config.withRooms&&e.travelers.rooms.length<e.config.maxRooms,w=e.config.withInfants&&e.config.withFlight&&!!A,b=e.config.withFlight&&e.config.withAges&&(!!T||e.config.withInfants&&!!A),y=A&&A>1?te:ne;return a.createElement(a.Fragment,null,a.createElement(k.l,{padding:{inline:"one",blockstart:"half",blockend:"twelve"}},a.createElement(fe.q,{direction:"vertical"},a.createElement("section",null,e.travelers.rooms.map((function(r,i){return a.createElement(ue,{setTravelers:e.setTravelers,travelers:e.travelers,key:i,index:i,room:r,config:e.config,roomRefs:e.roomRefs,totalRoomRefs:e.totalRoomRefs,setTotalRoomRefs:e.setTotalRoomRefs,childAgeOptions:n,infantAgeOptions:t,lobState:e.lobState})})),O&&a.createElement(E.v,{justifyContent:"end"},a.createElement(S.t,{className:"addRoomButton"},a.createElement(d.m,{onClick:function(){e.setTravelers({rooms:e.travelers.rooms.concat({adults:1,children:[],infants:[]}),infantSeating:e.travelers.infantSeating}),(0,i.liveAnnounce)(r(I,e.travelers.rooms.length+1),i.Level.POLITE),e.setTotalRoomRefs(e.totalRoomRefs+1),l.trackEvent("".concat(c,"add-room"))},"data-testid":"add-room-button"},r(P)))),w&&a.createElement(k.l,{padding:{blockstart:"six"}},a.createElement("div",{className:"airlineChildSeating"},a.createElement(k.l,{padding:{blockend:"two"}},a.createElement(me.b,{size:300},r(y))),a.createElement(h.s,{group:"InfantSeating",onChange:function(n){e.setTravelers({rooms:e.travelers.rooms,infantSeating:n.currentTarget.value})},selected:e.travelers.infantSeating},a.createElement(k.l,{padding:{inlineend:"six"}},a.createElement(g.n,{id:"ChildOnLap",value:se.J.ON_LAP},r(re))),a.createElement(k.l,{padding:{inlineend:"six"}},a.createElement(g.n,{id:"ChildInSeat",value:se.J.IN_SEAT},r(ae)))))),b&&a.createElement("div",null,a.createElement(v.M,{size:"small",className:"airlineAgeRules"},a.createElement("a",{href:"/p/info-main/h_fw_default?rhtx=HTX_FLTSRCH_RT#travs",id:"airline-age-rules",target:"_blank",rel:"noopener"},r(ie),a.createElement(p.fR,{id:"airline-age-rules-opens-in-new",name:"open_in_new",title:"Opens in a new window"})))),a.createElement(k.l,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null))))),a.createElement(u.o,{className:"guestsDoneBtn",type:s.k.BUTTON},a.createElement(m.t,{onClick:function(){e.onSave(e.travelers)},size:f.xY.LARGE,isFullWidth:!0,"data-testid":"guests-done-button"},r(x))))})),ge=t(83195),ve=t(19633),pe=t(61007),Ee=function(){return Ee=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},Ee.apply(this,arguments)},Se=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},Re=function(e){var n=[],t=e.onChange,r=e.lobState,i=e.setInputsRefs,o=r.validateTravelersField,l=r.validateInfantsPerTraveler,u=r.validateUnattendedInfantInLap,s=r.config,d=(0,C.useLocalization)().formatText,m=Se(a.useState(0),2),f=m[0],h=m[1],g=Se(a.useState((0,c.toJS)(e.travelers)),2),v=g[0],p=g[1],E=o(),S=r.hotelTravelersInvalidKey||r.nonHotelTravelersInvalidKey||"",R=!E&&""!==S,T=Se(a.useState([]),2),A=T[0],O=T[1],w=e.config,b=w.invalidNumberOfInfantPerTravelerMessageToken,I=w.invalidUnattendedInfantOnLapMessageToken,y=w.maxBookableTravelers;return a.useEffect((function(){var e=n[n.length-1];if(e&&e.current){var t=e.current.firstElementChild;t&&t.focus()}}),[f]),a.useEffect((function(){S&&(l&&!l()&&S===b?O([s.travelers.minInfantPerTraveler,s.travelers.minAdultAge]):u&&!u()&&S===I?O([s.travelers.minAdultAge]):O([y])),(0,c.toJS)(e.travelers)!==v&&r instanceof pe.Zb&&p(e.travelers)}),[R,S,e.travelers]),a.createElement("div",null,a.createElement(ve.Viewport,null,a.createElement(ve.ViewSmall,null,a.createElement(a.Fragment,null,R&&a.createElement(k.l,{padding:{inline:"one",blockstart:"two"}},a.createElement("div",null,a.createElement(k.l,{padding:{blockstart:"two"}},a.createElement(ge.m,{locHeadingToken:S,locHeadingArgs:A,focusOnError:!1,setInputsRefs:i})))))),a.createElement(ve.ViewLarge,null,a.createElement(k.l,{padding:{inline:"one",blockstart:"two"}},a.createElement("div",null,a.createElement(le.y,{tag:"h3",size:5},d(e.config.dialogTitleToken)),R&&a.createElement(k.l,{padding:{blockstart:"two"}},a.createElement(ge.m,{locHeadingToken:S,locHeadingArgs:A,focusOnError:!1,setInputsRefs:i})))))),a.createElement(he,Ee({},e,{roomRefs:n,totalRoomRefs:f,setTotalRoomRefs:h,travelers:v,setTravelers:function(e){p(e),t(e)}})))},Te=(0,o.observer)((function(e){var n=e.travelers,t=e.onSave,r=e.onChange,i=e.config,o=e.lobState,l=e.setInputsRefs;return a.createElement(Re,{travelers:n,onSave:t,onChange:r,config:i,lobState:o,setInputsRefs:l})})),Ae=t(70674),Oe=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ke=(0,o.inject)("context")((0,o.observer)((function(e){var n,t,r=e.hiddenInputType,i=e.flightSearch,o=e.hotwireFlightSearch,l=e.hotelSearch,c=e.hotwireHotelSearch,u=e.packageSearch,s=e.hotwirePackageSearch,d=e.cruiseSearch,m=e.thirdSearch,f=e.isApiCallEnabled,h=e.groundTransportSearch;switch(r){case Ae.m.GROUND_TRANSPORT_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adults",value:h.numOfAdults,"data-testid":"adults-input"}),h.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"children",value:h.numOfChildren,"data-testid":"children-input"}),h.numOfInfants>0&&a.createElement("input",{type:"hidden",name:"infants",value:h.numOfInfants,"data-testid":"infants-input"}));case Ae.m.FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"passengers",value:i,"data-testid":"passengers-input"});case Ae.m.HOTWIRE_FLIGHT_SEARCH:return a.createElement("input",{type:"hidden",name:"noOfTickets",value:o,"data-testid":"noOfTickets-input"});case Ae.m.HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:l.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:l.adults,"data-testid":"adults-input"}),l.children&&a.createElement("input",{type:"hidden",name:"children",value:l.children,"data-testid":"children-input"}));case Ae.m.HOTWIRE_HOTEL_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"rooms",value:c.rooms,"data-testid":"rooms-input"}),a.createElement("input",{type:"hidden",name:"adults",value:c.adults,"data-testid":"adults-input"}),c.children&&a.createElement("input",{type:"hidden",name:"children",value:c.children,"data-testid":"children-input"}));case Ae.m.PACKAGE_SEARCH:var g=[];try{for(var v=Oe(Object.keys(u)),p=v.next();!p.done;p=v.next()){var E=p.value;g.push(a.createElement("input",{type:"hidden",name:E,key:E,value:u[E],"data-testid":"".concat(E,"-input")}))}}catch(R){n={error:R}}finally{try{p&&!p.done&&(t=v.return)&&t.call(v)}finally{if(n)throw n.error}}return a.createElement(a.Fragment,null,g);case Ae.m.HOTWIRE_PACKAGE_SEARCH:return a.createElement(a.Fragment,null,Object.keys(s).map((function(e){return a.createElement("input",{type:"hidden",name:e,key:e,value:s[e],"data-testid":"".concat(e,"-input")})})));case Ae.m.CRUISE_SEARCH:return a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden",name:"adultCount",value:d.numOfAdults,"data-testid":"cruise-adults-input"}),d.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childCount",value:d.numOfChildren,"data-testid":"cruise-children-input"}),d.numOfChildren>0&&a.createElement("input",{type:"hidden",name:"childAges",value:d.childAges,"data-testid":"cruise-childAges-input"}));case Ae.m.THIRD_SEARCH:var S=[];return S.push(a.createElement("input",{type:"hidden",name:f?"adultCount":"adult",value:m.numOfAdults,"data-testid":"third-adult-input",key:"third-adult-input"})),m.numOfChildren>0&&(f?(S.push(a.createElement("input",{type:"hidden",name:"numChildren",value:m.numOfChildren,"data-testid":"third-child-input",key:"third-child-input"})),(m.childAges||"").split(",").forEach((function(e,n){S.push(a.createElement("input",{type:"hidden",name:"childAge",value:e,"data-testid":"third-child-".concat(n,"-input"),key:"third-child-".concat(n,"-input")}))}))):S.push(a.createElement("input",{type:"hidden",name:"child",value:m.childAges,"data-testid":"third-child-ages-input",key:"third-child-ages-input"}))),a.createElement(a.Fragment,null,S);default:return a.createElement(a.Fragment,null)}}))),Ce=t(23824),we=t(14163),be=t(19719),Ie=t(7510),ye=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o},xe=(0,o.inject)("analytics")((0,o.observer)((function(e){var n=e.triggerType,t=void 0===n?Ce.Q.FAKE_INPUT:n,o=e.handleMenuTriggerState,c=e.lobState,u=e.onSave,s=e.setChange,d=e.isChanged,m=e.noRehydratationValues,f=e.config,h=e.metadata,g=e.travelers,E=e.tripLobType,S=e.analytics,R=e.isApiCallEnabled,T=a.useRef(null),A=a.useRef(null),O=ye(a.useState(!1),2),k=O[0],w=O[1],I=ye((0,r.useDialog)("travelers-dialog-".concat(c.config.elementId)),3),y=I[0],x=I[1],P=I[2],H=h.numOfAdults,_=h.numOfChildren,L=h.numOfInfants,z=h.flightSearch,N=h.hotwireFlightSearch,F=h.hotelSearch,G=h.hotwireHotelSearch,j=h.packageSearch,U=h.hotwirePackageSearch,D=h.cruiseSearch,K=h.groundTransportSearch,B=h.thirdSearch,W=f.withFlight,J=f.withRooms,V=f.withInfants,M=(null==m?void 0:m.numOfTravelers)&&!H?null==m?void 0:m.numOfTravelers:H+_+(V?L:0),Y=ye(a.useState(!1),2),Q=Y[0],X=Y[1],Z=ye(a.useState(null==m?void 0:m.name),2),q=Z[0],$=Z[1],ee=ye(a.useState(!1),2),ne=ee[0],te=ee[1],ae=ye(a.useState("guests-hidden"),2),re=ae[0],ie=ae[1],le=(0,de.c)(f,g.rooms,M),ce=(0,C.useLocalization)().formatText,ue=f.roomsGuestsToken,se=f.travelersToken,me=g.rooms.length,fe=f.withRooms?ce(ue,me,M):ce(se,M),he=!(c instanceof pe.Zb)||c.validateHotelPackage();a.useEffect((function(){var e;k&&A.current&&(null===(e=A.current)||void 0===e||e.focus(),w(!1),A.current=null),he||Q||(x.openDialog(),X(!0),w(!0))}));a.useEffect((function(){$(void 0),ie(""),te(!0),d||function(){var e,n,t=c instanceof pe.mU?1:2,a={rooms:[{adults:J&&W||E&&J||!J&&!W?2:t,children:[],infants:[]}],infantSeating:we.J.ON_LAP};f.withRooms?null===(e=c.updateHotelTravelersSelection)||void 0===e||e.call(c,a):null===(n=c.updateNonHotelTravelersSelection)||void 0===n||n.call(c,a)}(),o&&Q&&o(!1)}),[Q]);var ge=function(e){e.preventDefault(),x.openDialog(),xe.trackEvent(Pe+oe.sF),X(!Q),(0,i.liveAnnounce)(ce(b),i.Level.POLITE)},Ee=function(){return!c.validateTravelersField||c.validateTravelersField()},Se=function(){return X((function(e){return!Ee()&&e||!e}))},Re=function(e){Se(),e.preventDefault(),xe.trackEvent(Pe+oe.sF),(0,i.liveAnnounce)(ce(b),i.Level.POLITE)},Ae=function(){return a.createElement(ve.Viewport,null,a.createElement(ve.ViewSmall,null,a.createElement(l.o,{icon:f.icon,className:re,label:ce(f.labelToken),"aria-label":fe,value:le,name:q,"data-testid":"travelers-field-trigger",onClick:ge,domRef:T})),a.createElement(ve.ViewLarge,null,a.createElement(l.o,{icon:f.icon,className:re,label:ce(f.labelToken),"aria-label":fe,onClick:Re,value:le,name:q,"data-testid":"travelers-field-trigger",domRef:T})))},Oe=function(){return a.createElement(v.M,{noWrap:!0},a.createElement("button",{type:"button","data-testid":"travelers-field",ref:T,"aria-label":fe},le,a.createElement(p.fR,{name:"expand_more"})))},xe=(0,oe.uY)(c.trackingEnabled,S,c.moduleName),Pe="guests.",He=c.config.elementId||"",_e=He.includes("flight")||He.includes("hotel")?be.d.RIGHT:be.d.LEFT;return a.createElement(a.Fragment,null,a.createElement(Ie.X,{showAdaptive:Q,dialogWrapper:function(e){return a.createElement(P,null,e)},handleDialogClick:ge,handleMenuClick:Re,adaptiveTrigger:function(){return t===Ce.Q.LINK_BUTTON?Oe():Ae()},menuPosition:_e,toolbar:{toolbarTitle:ce(f.dialogTitleToken),navigationContent:{navIconLabel:ce(f.dialogCancelLabelToken),onClick:function(){Ee()&&(T.current&&T.current.focus(),x.closeDialog(),xe.trackEvent(Pe+oe.t9)),Se()}}}},a.createElement(Te,{travelers:g,config:f,onSave:function(e){Ee()&&(T.current&&T.current.focus(),u&&(s&&!d&&s(),u("SUBMIT",e)),y&&x.closeDialog(),xe.trackEvent(Pe+oe.T_)),Se()},onChange:function(e){return u("CHANGE",e)},lobState:c,setInputsRefs:function(e){A.current=e.current}})),ne&&a.createElement(ke,{hiddenInputType:f.hiddenInputType,flightSearch:z,hotwireFlightSearch:N,hotelSearch:F,hotwireHotelSearch:G,groundTransportSearch:K,packageSearch:j,hotwirePackageSearch:U,cruiseSearch:D,thirdSearch:B,isApiCallEnabled:R}))})))},14163:function(e,n,t){t.d(n,{J:function(){return r.J},m:function(){return a.m}});var a=t(70674),r=t(92413)},23824:function(e,n,t){var a;t.d(n,{Q:function(){return a}}),function(e){e.FAKE_INPUT="fake input",e.LINK_BUTTON="link button"}(a||(a={}))},89105:function(e,n,t){t.d(n,{Y:function(){return o},c:function(){return l}});var a=t(92413),r=t(29892),i=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],a=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e){var n,t,r,o,l,c,u=[],s=[],d=e.rooms.reduce((function(n,t,r){var o,l,c,d;n.numOfAdults+=t.adults,n.numOfChildren+=t.children.length,n.numOfInfants+=t.infants.length;var m=[],f=0;try{for(var h=i(t.children),g=h.next();!g.done;g=h.next()){var v=g.value;m.push(v.age),s.push("".concat(r+1,"_").concat(v.age)),f+=v.age>=12?1:0,n.packageSearch["childAges[".concat(r+1,"][").concat(m.length,"]")]=v.age,n.hotwirePackageSearch["childrenAgePerRoom".concat(r).concat(m.length-1)]=v.age}}catch(R){o={error:R}}finally{try{g&&!g.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}n.travelersAgeTwelveOrOlder+=t.adults+f;try{for(var p=i(t.infants),E=p.next();!E.done;E=p.next()){var S=E.value;m.push(S.age),s.push("".concat(r+1,"_").concat(S.age)),n.packageSearch["childAges[".concat(r+1,"][").concat(m.length,"]")]=S.age,n.hotwirePackageSearch["childrenAgePerRoom".concat(r).concat(m.length-1)]=S.age}}catch(T){c={error:T}}finally{try{E&&!E.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}return u.push(t.adults),n.packageSearch["adultsPerRoom[".concat(r+1,"]")]=t.adults,n.packageSearch["childrenPerRoom[".concat(r+1,"]")]=t.children.length+t.infants.length,n.flightSearch=function(e,n,t){var r=e.numOfAdults,i=e.numOfChildren,o=e.numOfInfants,l="";return l="children:".concat(i+o),l+=n.length?"[".concat(n.join(";"),"]"):"",l+=",adults:".concat(r),l+=",seniors:0",l+",infantinlap:".concat(t===a.J.ON_LAP?"Y":"N")}(n,m,e.infantSeating),n.hotwireFlightSearch=function(e){return e.numOfAdults+e.numOfChildren}(n),n.hotwirePackageSearch["numAdultsPerRoom".concat(r)]=t.adults,n.hotwirePackageSearch["numChildrenPerRoom".concat(r)]=t.children.length+t.infants.length,n.cruiseSearch=function(e,n){var t=e.numOfAdults,a=e.numOfChildren,r=e.cruiseSearch;return r.numOfAdults=t,r.numOfChildren=a,n.length&&(r.childAges=n.join(",")),r}(n,m),n.thirdSearch=function(e,n){var t=e.numOfAdults,a=e.numOfChildren,r=e.thirdSearch;return r.numOfAdults=t,r.numOfChildren=a,n.length&&(r.childAges=n.join(",")),r}(n,m),n.groundTransportSearch=function(e){var n=e.numOfAdults,t=e.numOfChildren,a=e.numOfInfants,r=e.groundTransportSearch;return r.numOfAdults=n,r.numOfChildren=t,r.numOfInfants=a,r}(n),n}),{numOfAdults:0,numOfChildren:0,numOfInfants:0,numOfRooms:0,travelersAgeTwelveOrOlder:0,flightSearch:"",hotwireFlightSearch:0,hotelSearch:{rooms:"0",adults:"0"},hotwireHotelSearch:{rooms:"0",adults:"0"},packageSearch:{numberOfRooms:"0",infantsInSeats:"0"},hotwirePackageSearch:{numberOfRooms:"0",infantsInSeats:"0"},cruiseSearch:{numOfAdults:1,numOfChildren:0},thirdSearch:{numOfAdults:1,numOfChildren:0},groundTransportSearch:{numOfAdults:1,numOfChildren:0,numOfInfants:0}});return d.numOfRooms=e.rooms.length,d.hotelSearch=function(e,n,t){var a=t.numOfRooms,r=t.hotelSearch;return r.rooms=a.toString(),r.adults=e.join(","),n.length&&(r.children=n.join(",")),r}(u,s,d),d.hotwireHotelSearch=(t=(n=d).numOfAdults,r=n.numOfChildren,o=n.numOfInfants,l=n.numOfRooms,(c=n.hotwireHotelSearch).rooms=l.toString(),c.adults=t.toString(),c.children=(r+o).toString(),c),d.packageSearch.numberOfRooms=d.numOfRooms.toString(),d.hotwirePackageSearch.noOfRooms=d.numOfRooms.toString(),d.packageSearch.infantsInSeats=e.infantSeating===a.J.IN_SEAT?"1":"0",d},l=function(e,n,t){var a=(0,r.useLocalization)().formatText,i=e.withRooms,o=e.roomsGuestsToken,l=e.travelersToken;return i?a(o,n.length,t):a(l,t)}}}]);
//# sourceMappingURL=shared~TravelersField.48c1fd43447b272082a2.js.map